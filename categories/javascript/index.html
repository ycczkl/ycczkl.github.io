<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>javascript | Kelun | Blog</title>
  <meta name="author" content="Kelun Zhang">
  
  <meta name="description" content="This is my bolg, welcome">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Kelun | Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Kelun | Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-53633801-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Kelun | Blog</a></h1>
  <h2><a href="/">A code monkey with a simple dream</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/atom.xml">Rss</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title category">javascript</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-10-23T08:15:32.000Z"><a href="/2014/10/23/JavaScript-Style-Guide/">Oct 23 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/10/23/JavaScript-Style-Guide/">JavaScript Style Guide</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Objects">Objects</h2>
<ul>
<li><p>Use the literal syntax for object creation.</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> item = <span class="keyword">new</span> <span class="built_in">Object</span>();

<span class="comment">// good</span>
<span class="keyword">var</span> item = {};
</pre></td></tr></table></figure>
</li>
<li><p>Don’t use <a href="http://es5.github.io/#x7.6.1" target="_blank" rel="external">reserved words</a> as keys. It won’t work in IE8. <a href="https://github.com/airbnb/javascript/issues/61" target="_blank" rel="external">More info</a></p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> superman = {
  <span class="keyword">default</span>: { clark: <span class="string">'kent'</span> },
  private: <span class="literal">true</span>
};

<span class="comment">// good</span>
<span class="keyword">var</span> superman = {
  defaults: { clark: <span class="string">'kent'</span> },
  hidden: <span class="literal">true</span>
};
</pre></td></tr></table></figure>
</li>
<li><p>Use readable synonyms in place of reserved words.</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> superman = {
  <span class="keyword">class</span>: <span class="string">'alien'</span>
};

<span class="comment">// bad</span>
<span class="keyword">var</span> superman = {
  klass: <span class="string">'alien'</span>
};

<span class="comment">// good</span>
<span class="keyword">var</span> superman = {
  type: <span class="string">'alien'</span>
};
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Arrays">Arrays</h2>
<ul>
<li><p>Use the literal syntax for array creation</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> items = <span class="keyword">new</span> <span class="built_in">Array</span>();

<span class="comment">// good</span>
<span class="keyword">var</span> items = [];
</pre></td></tr></table></figure>
</li>
<li><p>If you don’t know array length use Array#push.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="keyword">var</span> someStack = [];


<span class="comment">// bad</span>
someStack[someStack.length] = <span class="string">'abracadabra'</span>;

<span class="comment">// good</span>
someStack.push(<span class="string">'abracadabra'</span>);
</pre></td></tr></table></figure>
</li>
<li><p>When you need to copy an array use Array#slice. <a href="http://jsperf.com/converting-arguments-to-an-array/7" target="_blank" rel="external">jsPerf</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="keyword">var</span> len = items.length,
    itemsCopy = [],
    i;

<span class="comment">// bad</span>
<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) {
  itemsCopy[i] = items[i];
}

<span class="comment">// good</span>
itemsCopy = items.slice();
</pre></td></tr></table></figure>
</li>
<li><p>To convert an array-like object to an array, use Array#slice.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">trigger</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);
  ...
}
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Strings">Strings</h2>
<ul>
<li><p>Use single quotes <code>&#39;&#39;</code> for strings</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> name = <span class="string">"Bob Parr"</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> name = <span class="string">'Bob Parr'</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> fullName = <span class="string">"Bob "</span> + <span class="keyword">this</span>.lastName;

<span class="comment">// good</span>
<span class="keyword">var</span> fullName = <span class="string">'Bob '</span> + <span class="keyword">this</span>.lastName;
</pre></td></tr></table></figure>
</li>
<li><p>Strings longer than 80 characters should be written across multiple lines using string concatenation.</p>
</li>
<li><p>Note: If overused, long strings with concatenation could impact performance. <a href="http://jsperf.com/ya-string-concat" target="_blank" rel="external">jsPerf</a> &amp; <a href="https://github.com/airbnb/javascript/issues/40" target="_blank" rel="external">Discussion</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> errorMessage = <span class="string">'This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.'</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> errorMessage = <span class="string">'This is a super long error that was thrown because \
of Batman. When you stop to think about how Batman had anything to do \
with this, you would get nowhere \
fast.'</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> errorMessage = <span class="string">'This is a super long error that was thrown because '</span> +
  <span class="string">'of Batman. When you stop to think about how Batman had anything to do '</span> +
  <span class="string">'with this, you would get nowhere fast.'</span>;
</pre></td></tr></table></figure>
</li>
<li><p>When programmatically building up a string, use Array#join instead of string concatenation. Mostly for IE: <a href="http://jsperf.com/string-vs-array-concat/2" target="_blank" rel="external">jsPerf</a>. Document of join function: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" target="_blank" rel="external">MDN</a>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="code"><pre><span class="keyword">var</span> items,
    messages,
    length,
    i;

messages = [{
  state: <span class="string">'success'</span>,
  message: <span class="string">'This one worked.'</span>
}, {
  state: <span class="string">'success'</span>,
  message: <span class="string">'This one worked as well.'</span>
}, {
  state: <span class="string">'error'</span>,
  message: <span class="string">'This one did not work.'</span>
}];

length = messages.length;

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">inbox</span><span class="params">(messages)</span> {</span>
  items = <span class="string">'&lt;ul&gt;'</span>;

  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++) {
    items += <span class="string">'&lt;li&gt;'</span> + messages[i].message + <span class="string">'&lt;/li&gt;'</span>;
  }

  <span class="keyword">return</span> items + <span class="string">'&lt;/ul&gt;'</span>;
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">inbox</span><span class="params">(messages)</span> {</span>
  items = [];

  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++) {
    items[i] = messages[i].message;
  }

  <span class="keyword">return</span> <span class="string">'&lt;ul&gt;&lt;li&gt;'</span> + items.join(<span class="string">'&lt;/li&gt;&lt;li&gt;'</span>) + <span class="string">'&lt;/li&gt;&lt;/ul&gt;'</span>;
}
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Variables">Variables</h2>
<ul>
<li><p>Use one <code>var</code> declaration for multiple variables and declare each variable on a newline.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> items = getItems();
<span class="keyword">var</span> goSportsTeam = <span class="literal">true</span>;
<span class="keyword">var</span> dragonball = <span class="string">'z'</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> items = getItems(),
    goSportsTeam = <span class="literal">true</span>,
    dragonball = <span class="string">'z'</span>;
</pre></td></tr></table></figure>
</li>
<li><p>Declare unassigned variables last. This is helpful when later on you might need to assign a variable depending on one of the previous assigned variables.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> i, len, dragonball,
    items = getItems(),
    goSportsTeam = <span class="literal">true</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> i, items = getItems(),
    dragonball,
    goSportsTeam = <span class="literal">true</span>,
    len;

<span class="comment">// good</span>
<span class="keyword">var</span> items = getItems(),
    goSportsTeam = <span class="literal">true</span>,
    dragonball,
    length,
    i;
</pre></td></tr></table></figure>
</li>
<li><p>Assign variables at the top of their scope. This helps avoid issues with variable declaration and assignment hoisting related issues.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  test();
  console.log(<span class="string">'doing stuff..'</span>);

  <span class="comment">//..other stuff..</span>

  <span class="keyword">var</span> name = getName();

  <span class="keyword">if</span> (name === <span class="string">'test'</span>) {
    <span class="keyword">return</span> <span class="literal">false</span>;
  }

  <span class="keyword">return</span> name;
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> name = getName();

  test();
  console.log(<span class="string">'doing stuff..'</span>);

  <span class="comment">//..other stuff..</span>

  <span class="keyword">if</span> (name === <span class="string">'test'</span>) {
    <span class="keyword">return</span> <span class="literal">false</span>;
  }

  <span class="keyword">return</span> name;
}

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> name = getName();

  <span class="keyword">if</span> (!<span class="built_in">arguments</span>.length) {
    <span class="keyword">return</span> <span class="literal">false</span>;
  }

  <span class="keyword">return</span> <span class="literal">true</span>;
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">if</span> (!<span class="built_in">arguments</span>.length) {
    <span class="keyword">return</span> <span class="literal">false</span>;
  }

  <span class="keyword">var</span> name = getName();

  <span class="keyword">return</span> <span class="literal">true</span>;
}
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Comments">Comments</h2>
<ul>
<li><p>Use <code>/** ... */</code> for multiline comments. Include a description, specify types and values for all parameters and return values.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="comment">// make() returns a new element</span>
<span class="comment">// based on the passed in tag name</span>
<span class="comment">//</span>
<span class="comment">// @param &lt;String&gt; tag</span>
<span class="comment">// @return &lt;Element&gt; element</span>
<span class="function"><span class="keyword">function</span> <span class="title">make</span><span class="params">(tag)</span> {</span>

  <span class="comment">// ...stuff...</span>

  <span class="keyword">return</span> element;
}

<span class="comment">// good</span>
<span class="comment">/**
 * make() returns a new element
 * based on the passed in tag name
 *
 * @param &lt;String&gt; tag
 * @return &lt;Element&gt; element
 */</span>
<span class="function"><span class="keyword">function</span> <span class="title">make</span><span class="params">(tag)</span> {</span>

  <span class="comment">// ...stuff...</span>

  <span class="keyword">return</span> element;
}
</pre></td></tr></table></figure>
</li>
<li><p>Use <code>//</code> for single line comments. Place single line comments on a newline above the subject of the comment. Put an empty line before the comment.</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> active = <span class="literal">true</span>;  <span class="comment">// is current tab</span>

<span class="comment">// good</span>
<span class="comment">// is current tab</span>
<span class="keyword">var</span> active = <span class="literal">true</span>;

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">getType</span><span class="params">()</span> {</span>
  console.log(<span class="string">'fetching type...'</span>);
  <span class="comment">// set the default type to 'no type'</span>
  <span class="keyword">var</span> type = <span class="keyword">this</span>._type || <span class="string">'no type'</span>;

  <span class="keyword">return</span> type;
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">getType</span><span class="params">()</span> {</span>
  console.log(<span class="string">'fetching type...'</span>);

  <span class="comment">// set the default type to 'no type'</span>
  <span class="keyword">var</span> type = <span class="keyword">this</span>._type || <span class="string">'no type'</span>;

  <span class="keyword">return</span> type;
}
</pre></td></tr></table></figure></p>
<h2 id="Whitespace">Whitespace</h2>
</li>
<li><p>Use indentation when making long method chains.</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="code"><pre><span class="comment">// bad</span>
$(<span class="string">'#items'</span>).find(<span class="string">'.selected'</span>).highlight().end().find(<span class="string">'.open'</span>).updateCount();

<span class="comment">// good</span>
$(<span class="string">'#items'</span>)
  .find(<span class="string">'.selected'</span>)
    .highlight()
    .end()
  .find(<span class="string">'.open'</span>)
    .updateCount();

<span class="comment">// bad</span>
<span class="keyword">var</span> leds = stage.selectAll(<span class="string">'.led'</span>).data(data).enter().append(<span class="string">'svg:svg'</span>).class(<span class="string">'led'</span>, <span class="literal">true</span>)
    .attr(<span class="string">'width'</span>,  (radius + margin) * <span class="number">2</span>).append(<span class="string">'svg:g'</span>)
    .attr(<span class="string">'transform'</span>, <span class="string">'translate('</span> + (radius + margin) + <span class="string">','</span> + (radius + margin) + <span class="string">')'</span>)
    .call(tron.led);

<span class="comment">// good</span>
<span class="keyword">var</span> leds = stage.selectAll(<span class="string">'.led'</span>)
    .data(data)
  .enter().append(<span class="string">'svg:svg'</span>)
    .class(<span class="string">'led'</span>, <span class="literal">true</span>)
    .attr(<span class="string">'width'</span>,  (radius + margin) * <span class="number">2</span>)
  .append(<span class="string">'svg:g'</span>)
    .attr(<span class="string">'transform'</span>, <span class="string">'translate('</span> + (radius + margin) + <span class="string">','</span> + (radius + margin) + <span class="string">')'</span>)
    .call(tron.led);
</pre></td></tr></table></figure></p>
<h2 id="Type_Casting_&amp;_Coercion">Type Casting &amp; Coercion</h2>
</li>
<li><p>Perform type coercion at the beginning of the statement.</p>
</li>
<li><p>Strings:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="comment">//  =&gt; this.reviewScore = 9;</span>

<span class="comment">// bad</span>
<span class="keyword">var</span> totalScore = <span class="keyword">this</span>.reviewScore + <span class="string">''</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> totalScore = <span class="string">''</span> + <span class="keyword">this</span>.reviewScore;

<span class="comment">// bad</span>
<span class="keyword">var</span> totalScore = <span class="string">''</span> + <span class="keyword">this</span>.reviewScore + <span class="string">' total score'</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> totalScore = <span class="keyword">this</span>.reviewScore + <span class="string">' total score'</span>;
</pre></td></tr></table></figure>
</li>
<li><p>Use <code>parseInt</code> for Numbers and always with a radix for type casting.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="code"><pre><span class="keyword">var</span> inputValue = <span class="string">'4'</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> val = <span class="keyword">new</span> <span class="built_in">Number</span>(inputValue);

<span class="comment">// bad</span>
<span class="keyword">var</span> val = +inputValue;

<span class="comment">// bad</span>
<span class="keyword">var</span> val = inputValue &gt;&gt; <span class="number">0</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> val = <span class="built_in">parseInt</span>(inputValue);

<span class="comment">// good</span>
<span class="keyword">var</span> val = <span class="built_in">Number</span>(inputValue);

<span class="comment">// good</span>
<span class="keyword">var</span> val = <span class="built_in">parseInt</span>(inputValue, <span class="number">10</span>);
</pre></td></tr></table></figure>
</li>
<li><p>If for whatever reason you are doing something wild and <code>parseInt</code> is your bottleneck and need to use Bitshift for <a href="http://jsperf.com/coercion-vs-casting/3" target="_blank" rel="external">performance reasons</a>, leave a comment explaining why and what you’re doing.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="comment">// good</span>
<span class="comment">/**
 * parseInt was the reason my code was slow.
 * Bitshifting the String to coerce it to a
 * Number made it a lot faster.
 */</span>
<span class="keyword">var</span> val = inputValue &gt;&gt; <span class="number">0</span>;
</pre></td></tr></table></figure>
</li>
<li><p><strong>Note:</strong> Be careful when using bitshift operations. Numbers are represented as <a href="http://es5.github.io/#x4.3.19" target="_blank" rel="external">64-bit values</a>, but Bitshift operations always return a 32-bit integer (<a href="http://es5.github.io/#x11.7" target="_blank" rel="external">source</a>). Bitshift can lead to unexpected behavior for integer values larger than 32 bits. <a href="https://github.com/airbnb/javascript/issues/109" target="_blank" rel="external">Discussion</a>. Largest signed 32-bit Int is 2,147,483,647:</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="number">2147483647</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; 2147483647</span>
<span class="number">2147483648</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; -2147483648</span>
<span class="number">2147483649</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; -2147483647</span>
</pre></td></tr></table></figure></p>
<h2 id="Naming_Conventions">Naming Conventions</h2>
</li>
<li><p>Avoid single letter names. Be descriptive with your naming.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">q</span><span class="params">()</span> {</span>
  <span class="comment">// ...stuff...</span>
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">query</span><span class="params">()</span> {</span>
  <span class="comment">// ..stuff..</span>
}
</pre></td></tr></table></figure>
</li>
<li><p>Use camelCase when naming objects, functions, and instances</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> OBJEcttsssss = {};
<span class="keyword">var</span> this_is_my_object = {};
<span class="function"><span class="keyword">function</span> <span class="title">c</span><span class="params">()</span> {</span>}
<span class="keyword">var</span> u = <span class="keyword">new</span> user({
  name: <span class="string">'Bob Parr'</span>
});

<span class="comment">// good</span>
<span class="keyword">var</span> thisIsMyObject = {};
<span class="function"><span class="keyword">function</span> <span class="title">thisIsMyFunction</span><span class="params">()</span> {</span>}
<span class="keyword">var</span> user = <span class="keyword">new</span> User({
  name: <span class="string">'Bob Parr'</span>
});
</pre></td></tr></table></figure>
</li>
<li><p>Use PascalCase when naming constructors or classes</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">user</span><span class="params">(options)</span> {</span>
  <span class="keyword">this</span>.name = options.name;
}

<span class="keyword">var</span> bad = <span class="keyword">new</span> user({
  name: <span class="string">'nope'</span>
});

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">User</span><span class="params">(options)</span> {</span>
  <span class="keyword">this</span>.name = options.name;
}

<span class="keyword">var</span> good = <span class="keyword">new</span> User({
  name: <span class="string">'yup'</span>
});
</pre></td></tr></table></figure>
</li>
<li><p>Use a leading underscore <code>_</code> when naming private properties</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">this</span>.__firstName__ = <span class="string">'Panda'</span>;
<span class="keyword">this</span>.firstName_ = <span class="string">'Panda'</span>;

<span class="comment">// good</span>
<span class="keyword">this</span>._firstName = <span class="string">'Panda'</span>;
</pre></td></tr></table></figure>
</li>
<li><p>When saving a reference to <code>this</code> use <code>_this</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> self = <span class="keyword">this</span>;
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    console.log(self);
  };
}

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> that = <span class="keyword">this</span>;
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    console.log(that);
  };
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> _this = <span class="keyword">this</span>;
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    console.log(_this);
  };
}
</pre></td></tr></table></figure>
</li>
<li><p>Name your functions. This is helpful for stack traces.</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> log = <span class="function"><span class="keyword">function</span><span class="params">(msg)</span> {</span>
  console.log(msg);
};

<span class="comment">// good</span>
<span class="keyword">var</span> log = <span class="function"><span class="keyword">function</span> <span class="title">log</span><span class="params">(msg)</span> {</span>
  console.log(msg);
};
</pre></td></tr></table></figure></p>
<h2 id="Constructors">Constructors</h2>
</li>
<li><p>Assign methods to the prototype object, instead of overwriting the prototype with a new object. Overwriting the prototype makes inheritance impossible: by resetting the prototype you’ll overwrite the base!</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">Jedi</span><span class="params">()</span> {</span>
  console.log(<span class="string">'new jedi'</span>);
}

<span class="comment">// bad</span>
Jedi.prototype = {
  fight: <span class="function"><span class="keyword">function</span> <span class="title">fight</span><span class="params">()</span> {</span>
    console.log(<span class="string">'fighting'</span>);
  },

  block: <span class="function"><span class="keyword">function</span> <span class="title">block</span><span class="params">()</span> {</span>
    console.log(<span class="string">'blocking'</span>);
  }
};

<span class="comment">// good</span>
Jedi.prototype.fight = <span class="function"><span class="keyword">function</span> <span class="title">fight</span><span class="params">()</span> {</span>
  console.log(<span class="string">'fighting'</span>);
};

Jedi.prototype.block = <span class="function"><span class="keyword">function</span> <span class="title">block</span><span class="params">()</span> {</span>
  console.log(<span class="string">'blocking'</span>);
};
</pre></td></tr></table></figure>
</li>
<li><p>Methods can return <code>this</code> to help with method chaining.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="code"><pre><span class="comment">// bad</span>
Jedi.prototype.jump = <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">this</span>.jumping = <span class="literal">true</span>;
  <span class="keyword">return</span> <span class="literal">true</span>;
};

Jedi.prototype.setHeight = <span class="function"><span class="keyword">function</span><span class="params">(height)</span> {</span>
  <span class="keyword">this</span>.height = height;
};

<span class="keyword">var</span> luke = <span class="keyword">new</span> Jedi();
luke.jump(); <span class="comment">// =&gt; true</span>
luke.setHeight(<span class="number">20</span>) <span class="comment">// =&gt; undefined</span>

<span class="comment">// good</span>
Jedi.prototype.jump = <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">this</span>.jumping = <span class="literal">true</span>;
  <span class="keyword">return</span> <span class="keyword">this</span>;
};

Jedi.prototype.setHeight = <span class="function"><span class="keyword">function</span><span class="params">(height)</span> {</span>
  <span class="keyword">this</span>.height = height;
  <span class="keyword">return</span> <span class="keyword">this</span>;
};

<span class="keyword">var</span> luke = <span class="keyword">new</span> Jedi();

luke.jump()
  .setHeight(<span class="number">20</span>);
</pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>It’s okay to write a custom toString() method, just make sure it works successfully and causes no side effects.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">Jedi</span><span class="params">(options)</span> {</span>
  options || (options = {});
  <span class="keyword">this</span>.name = options.name || <span class="string">'no name'</span>;
}

Jedi.prototype.getName = <span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span> {</span>
  <span class="keyword">return</span> <span class="keyword">this</span>.name;
};

Jedi.prototype.toString = <span class="function"><span class="keyword">function</span> <span class="title">toString</span><span class="params">()</span> {</span>
  <span class="keyword">return</span> <span class="string">'Jedi - '</span> + <span class="keyword">this</span>.getName();
};
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Events">Events</h2>
<ul>
<li><p>When attaching data payloads to events (whether DOM events or something more proprietary like Backbone events), pass a hash instead of a raw value. This allows a subsequent contributor to add more data to the event payload without finding and updating every handler for the event. For example, instead of:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="comment">// bad</span>
$(<span class="keyword">this</span>).trigger(<span class="string">'listingUpdated'</span>, listing.id);

...

$(<span class="keyword">this</span>).on(<span class="string">'listingUpdated'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e, listingId)</span> {</span>
  <span class="comment">// do something with listingId</span>
});
</pre></td></tr></table></figure>

<p>prefer:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="comment">// good</span>
$(<span class="keyword">this</span>).trigger(<span class="string">'listingUpdated'</span>, { listingId : listing.id });

...

$(<span class="keyword">this</span>).on(<span class="string">'listingUpdated'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e, data)</span> {</span>
  <span class="comment">// do something with data.listingId</span>
});
</pre></td></tr></table></figure></p>
<h2 id="jQuery">jQuery</h2>
</li>
<li><p>Prefix jQuery object variables with a <code>$</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> sidebar = $(<span class="string">'.sidebar'</span>);

<span class="comment">// good</span>
<span class="keyword">var</span> $sidebar = $(<span class="string">'.sidebar'</span>);
</pre></td></tr></table></figure>
</li>
<li><p>Cache jQuery lookups.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">setSidebar</span><span class="params">()</span> {</span>
  $(<span class="string">'.sidebar'</span>).hide();

  <span class="comment">// ...stuff...</span>

  $(<span class="string">'.sidebar'</span>).css({
    <span class="string">'background-color'</span>: <span class="string">'pink'</span>
  });
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">setSidebar</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> $sidebar = $(<span class="string">'.sidebar'</span>);
  $sidebar.hide();

  <span class="comment">// ...stuff...</span>

  $sidebar.css({
    <span class="string">'background-color'</span>: <span class="string">'pink'</span>
  });
}
</pre></td></tr></table></figure>
</li>
<li><p>For DOM queries use Cascading <code>$(&#39;.sidebar ul&#39;)</code> or parent &gt; child <code>$(&#39;.sidebar &gt; ul&#39;)</code>. <a href="http://jsperf.com/jquery-find-vs-context-sel/16" target="_blank" rel="external">jsPerf</a></p>
</li>
<li><p>Use <code>find</code> with scoped jQuery object queries.</p>
<p>```javascript<br>// bad<br>$(‘ul’, ‘.sidebar’).hide();</p>
<p>// bad<br>$(‘.sidebar’).find(‘ul’).hide();</p>
<p>// good<br>$(‘.sidebar ul’).hide();</p>
<p>// good<br>$(‘.sidebar &gt; ul’).hide();</p>
<p>// good<br>$sidebar.find(‘ul’).hide();</p>
</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-09-18T10:52:06.000Z"><a href="/2014/09/18/Javascript-tricks/">Sep 18 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/09/18/Javascript-tricks/">Javascript tricks</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Some_basic_javascript_tricks">Some basic javascript tricks</h1>
<ol>
<li><p>Based on your brower you can use:          </p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	document.documentElement
</pre></td></tr></table></figure>

<p> or</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	document.body
</pre></td></tr></table></figure><br> to select the body or html element. You can also write code like this:<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	<span class="keyword">var</span> root = <span class="regexp">/firefox|tridenti.test(navigator.userAgent) ? document.documentElement : document.body</span>
</pre></td></tr></table></figure>
</li>
<li><p>Gets or sets the number of pixels that the content of an element is scrolled upward.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	root.scrollTop;
</pre></td></tr></table></figure>
</li>
<li><p>Get text rectangle object    </p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	rectObject = object.getBoundingClientRect();
</pre></td></tr></table></figure>
</li>
<li><p>Get full height of the browser and get the height of the viewpoint.</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>	root.scrollHeight; <span class="comment">//full height of browser</span>
	window.innerHeight; <span class="comment">//The height of the view point</span>
</pre></td></tr></table></figure>    </li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-28T09:42:11.000Z"><a href="/2014/08/28/Everything-about-javascript-function(8)---Function-length/">Aug 28 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/28/Everything-about-javascript-function(8)---Function-length/">Everything about javascript function(8) - Function length</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-_How_does_a_function’s_length_property_work?">1. How does a function’s length property work?</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">makeNinja</span>(<span class="title">name</span>){}             </span>
<span class="function"><span class="keyword">function</span> <span class="title">makeSamurai</span>(<span class="title">name</span>, <span class="title">rank</span>){} </span>
console.<span class="built_in">log</span>(makeNinja.<span class="built_in">length</span>)<span class="comment"> //1</span>
console.<span class="built_in">log</span>(makeSamurai.<span class="built_in">length</span>)<span class="comment"> //2</span>
</code></pre><h1 id="2-_Use_it_to_implement_method_overloading-">2. Use it to implement method overloading.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">addMethod</span><span class="params">(object, name, fn)</span>{</span>
    <span class="comment">// Save a reference to the old method</span>
    <span class="keyword">var</span> old = object[ name ];

    <span class="comment">// Overwrite the method with our new one</span>
    object[ name ] = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
        <span class="comment">// Check the number of incoming arguments,</span>
        <span class="comment">// compared to our overloaded function</span>
        <span class="keyword">if</span> ( fn.length == <span class="built_in">arguments</span>.length )
        <span class="comment">// If there was a match, run the function</span>
            <span class="keyword">return</span> fn.apply( <span class="keyword">this</span>, <span class="built_in">arguments</span> );

        <span class="comment">// Otherwise, fallback to the old method</span>
        <span class="keyword">else</span> <span class="keyword">if</span> ( <span class="keyword">typeof</span> old === <span class="string">"function"</span> )
            <span class="keyword">return</span> old.apply( <span class="keyword">this</span>, <span class="built_in">arguments</span> );
    };
}

<span class="function"><span class="keyword">function</span> <span class="title">Ninjas</span><span class="params">()</span>{</span>
    <span class="keyword">var</span> ninjas = [ <span class="string">"Dean Edwards"</span>, <span class="string">"Sam Stephenson"</span>, <span class="string">"Alex Russell"</span> ];
    addMethod(<span class="keyword">this</span>, <span class="string">"find"</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
        <span class="keyword">return</span> ninjas;
    });
    addMethod(<span class="keyword">this</span>, <span class="string">"find"</span>, <span class="function"><span class="keyword">function</span><span class="params">(name)</span>{</span>
        <span class="keyword">var</span> ret = [];
        <span class="keyword">for</span> ( <span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ninjas.length; i++ )
            <span class="keyword">if</span> ( ninjas[i].indexOf(name) == <span class="number">0</span> )
                ret.push( ninjas[i] );
        <span class="keyword">return</span> ret;
    });
    addMethod(<span class="keyword">this</span>, <span class="string">"find"</span>, <span class="function"><span class="keyword">function</span><span class="params">(first, last)</span>{</span>
        <span class="keyword">var</span> ret = [];
        <span class="keyword">for</span> ( <span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ninjas.length; i++ )
            <span class="keyword">if</span> ( ninjas[i] == (first + <span class="string">" "</span> + last) )
                ret.push( ninjas[i] );
        <span class="keyword">return</span> ret;
    });
}

<span class="keyword">var</span> ninjas = <span class="keyword">new</span> Ninjas();
console.log( ninjas.find().length == <span class="number">3</span>); <span class="comment">//true. Finds all ninjas</span>
console.log( ninjas.find(<span class="string">"Sam"</span>).length == <span class="number">1</span>); <span class="comment">//true. Finds ninjas by first name</span>
console.log( ninjas.find(<span class="string">"Dean"</span>, <span class="string">"Edwards"</span>).length == <span class="number">1</span>); <span class="comment">//true.Finds ninjas by first and last name</span>
console.log( ninjas.find(<span class="string">"Alex"</span>, <span class="string">"X"</span>, <span class="string">"Russell"</span>) == <span class="literal">null</span>); <span class="comment">//true. Does nothing    </span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-26T14:19:21.000Z"><a href="/2014/08/26/Everything-about-Javascript-function(7)---Inheritance/">Aug 26 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/26/Everything-about-Javascript-function(7)---Inheritance/">Everything about Javascript function(7) - Inheritance</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-_How_prototype_inheritance_works?">1. How prototype inheritance works?</h1>
<p>We usually write constanted varibal in function, write object function use prototype.</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">()</span> {</span>
    <span class="keyword">this</span>.name = <span class="number">24</span>;
}
Person.prototype.dance = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>};

<span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span> {</span>}
Ninja.prototype = <span class="keyword">new</span> Person();

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();
console.log(ninja.name, <span class="keyword">typeof</span> ninja.dance); <span class="comment">//24, function</span>
console.log(ninja <span class="keyword">instanceof</span> Person); <span class="comment">//true</span>
console.log(ninja <span class="keyword">instanceof</span> Ninja); <span class="comment">//true</span>
console.log(ninja <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">//true</span>
</code></pre><h1 id="2-_What_happens_when_we_try_to_bind_an_object’s_method_to_a_click_handler?">2. What happens when we try to bind an object’s method to a click handler?</h1>
<pre><code>var Button = {
  click: function(){
    this<span class="preprocessor">.clicked</span> = true<span class="comment">;</span>
  }
}<span class="comment">;</span>

var elem = document<span class="preprocessor">.createElement</span>(<span class="string">"li"</span>)<span class="comment">;</span>
elem<span class="preprocessor">.innerHTML</span> = <span class="string">"Click me!"</span><span class="comment">;</span>
elem<span class="preprocessor">.onclick</span> = Button<span class="preprocessor">.click</span><span class="comment">; //elem copy the function so that when method called elem it's self is the 'this'.</span>
document<span class="preprocessor">.getElementById</span>(<span class="string">"results"</span>)<span class="preprocessor">.appendChild</span>(elem)<span class="comment">;</span>

elem<span class="preprocessor">.onclick</span>()<span class="comment">;    </span>
console<span class="preprocessor">.log</span>(elem<span class="preprocessor">.clicked</span>)<span class="comment">; //true. The clicked property was accidentally set on the element.</span>
</code></pre><p>We can use apply() to set clicked = true in Button object.</p>
<pre><code><span class="keyword">var</span> Button = {
  click: <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    <span class="keyword">this</span>.clicked = <span class="literal">true</span>;
  }
};

<span class="keyword">var</span> elem = document.createElement(<span class="string">"li"</span>);
elem.innerHTML = <span class="string">"Click me!"</span>;
elem.onclick = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span><span class="keyword">return</span> Button.click.apply(Button)}; <span class="comment">//When method called this will point to Button.</span>
document.getElementById(<span class="string">"results"</span>).appendChild(elem);

elem.onclick();    
console.log(elem.clicked); <span class="comment">//Undefined</span>
</code></pre><h1 id="3-_Add_a_method_to_all_functions_to_allow_context_enforcement-">3. Add a method to all functions to allow context enforcement.</h1>
<pre><code>Function<span class="preprocessor">.prototype</span><span class="preprocessor">.bind</span> = function() {
    var fn = this,
        object = Array<span class="preprocessor">.prototype</span><span class="preprocessor">.slice</span><span class="preprocessor">.apply</span>(arguments)<span class="preprocessor">.shift</span>()<span class="comment">;</span>
    return fn<span class="preprocessor">.call</span>(object, arguments)<span class="comment">;</span>
}<span class="comment">;</span>
var Button = {
    click: function(){
        this<span class="preprocessor">.clicked</span> = true<span class="comment">;</span>
    }
}<span class="comment">;</span>

var elem = document<span class="preprocessor">.createElement</span>(<span class="string">"li"</span>)<span class="comment">;</span>
elem<span class="preprocessor">.innerHTML</span> = <span class="string">"Click me!"</span><span class="comment">;</span>
elem<span class="preprocessor">.onclick</span> = Button<span class="preprocessor">.click</span><span class="preprocessor">.bind</span>(Button)<span class="comment">; </span>
document<span class="preprocessor">.getElementById</span>(<span class="string">"results"</span>)<span class="preprocessor">.appendChild</span>(elem)<span class="comment">;</span>

elem<span class="preprocessor">.click</span>()<span class="comment">;</span>

console<span class="preprocessor">.log</span>(elem<span class="preprocessor">.clicked</span>, Button<span class="preprocessor">.clicked</span>)<span class="comment">; //Undefined, true</span>
</code></pre><h1 id="4-_When_to_use_apply()_or_call()?">4. When to use apply() or call()?</h1>
<p>We can assume we have two object superman and child. superman has a fly method which child not. If child wants to use the fly method but also don’t want to write the code then child can use call() to use the method defined in superman.</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Superman</span><span class="params">()</span> {</span>
    <span class="keyword">this</span>.name = <span class="string">'superman'</span>;
}
Superman.prototype.fly = <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    console.log(<span class="string">'My name is '</span> + <span class="keyword">this</span>.name);
};
<span class="keyword">var</span> superman = <span class="keyword">new</span> Superman();
console.log(superman.name); <span class="comment">//superman</span>
superman.fly(); <span class="comment">//My name is superman</span>

<span class="keyword">var</span> child = {
    name: <span class="string">'child'</span>
};
superman.fly.call(child); <span class="comment">//My name is child            </span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-26T11:35:08.000Z"><a href="/2014/08/26/Everything-about-Javascript-function(6)---Function-Prototype/">Aug 26 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/26/Everything-about-Javascript-function(6)---Function-Prototype/">Everything about Javascript function(6) - Function Prototype and the instance type</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-_Adding_a_prototyped_method_to_a_function">1. Adding a prototyped method to a function</h1>
<pre><code><span class="reserved">function</span> Ninja(){}

Ninja.prototype.swingSword = <span class="reserved">function</span>(){
    <span class="keyword">return</span> <span class="literal">true</span>;
};

<span class="reserved">var</span> ninjaA = Ninja();
<span class="built_in">console</span>.log( !ninjaA) <span class="regexp">//</span>True. Is <span class="literal">undefined</span>, <span class="keyword">not</span> an instance <span class="keyword">of</span> Ninja.

<span class="reserved">var</span> ninjaB = <span class="keyword">new</span> Ninja();
<span class="built_in">console</span>.log( ninjaB.swingSword()); <span class="regexp">//</span>True. Method exists <span class="keyword">and</span> <span class="keyword">is</span> callable.
</code></pre><h1 id="2-_Properties_added_in_the_constructor_(or_later)_override_prototyped_properties-">2. Properties added in the constructor (or later) override prototyped properties.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span>{</span>
    <span class="keyword">this</span>.swingSword = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
        <span class="keyword">return</span> <span class="literal">true</span>;
    };
}

<span class="comment">// Should return false, but will be overridden</span>
Ninja.prototype.swingSword = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    <span class="keyword">return</span> <span class="literal">false</span>;
};

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();
console.log( ninja.swingSword()); <span class="comment">//Calling the instance method, not the prototype method.</span>
</code></pre><h1 id="3-_The_chainable_method_must_return_this-">3. The chainable method must return this.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span> {</span>
    <span class="keyword">this</span>.swung = <span class="literal">true</span>;
}

<span class="keyword">var</span> ninjaA = <span class="keyword">new</span> Ninja();
<span class="keyword">var</span> ninjaB = <span class="keyword">new</span> Ninja();

Ninja.prototype.swing = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">this</span>.swung = <span class="literal">false</span>;
    <span class="keyword">return</span> <span class="keyword">this</span>;
};

console.log(!ninjaA.swing().swung); <span class="comment">//True. Verify that the swing method exists and returns an instance.;</span>
console.log(!ninjaB.swing().swung); <span class="comment">//True. and that it works on all Ninja instances. </span>
</code></pre><h1 id="4-_Examining_the_basic_of_an_object">4. Examining the basic of an object</h1>
<p><code>typeof, instanceof, .constructor() is three important method to examing an object.</code></p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span>{</span>};

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();

console.log(<span class="keyword">typeof</span> ninja, ninja <span class="keyword">instanceof</span> Ninja, ninja.constructor == Ninja);<span class="comment">// object, true ,true</span>
</code></pre><h1 id="5-_Use_constructor_to_build_other_instances-">5. Use constructor to build other instances.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span>{</span>};

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();
<span class="keyword">var</span> ninjaB = <span class="keyword">new</span> ninja.constructor();

console.log(ninjaB <span class="keyword">instanceof</span> Ninja);<span class="comment">// true</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-25T11:20:09.000Z"><a href="/2014/08/25/Everything-about-javascript(5)---Temporary-Scope-/">Aug 25 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/25/Everything-about-javascript(5)---Temporary-Scope-/">Everything about javascript(5) - Temporary Scope </a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-_Isolate_scope:_Self-executing_function">1. Isolate scope: Self-executing function</h1>
<p>We can’t access the variable inside a self-executing function.</p>
<pre><code>(<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">var</span> count = <span class="number">0</span>;

    <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">if</span> (count &lt; <span class="number">5</span>) {
            console.log(<span class="string">"Timer call: "</span>, count);
            count++;
        } <span class="keyword">else</span> {
            console.log(count == <span class="number">5</span>); <span class="comment">//true. Count came via a closure, accessed each step.</span>
            console.log(<span class="keyword">typeof</span> timer); <span class="comment">//object. The timer reference is also via a closure.</span>
            clearInterval(timer);
        }
    }, <span class="number">100</span>);
})();

console.log(<span class="keyword">typeof</span> count); <span class="comment">//undefined. count doesn't exist outside the wrapper</span>
console.log(<span class="keyword">typeof</span> timer); <span class="comment">//undefined. neither does timer</span>
</code></pre><p>We can use this feature to wrap a libary:</p>
<pre><code>var myLib = (<span class="keyword">function</span>(){ 
  <span class="keyword">function</span> myLib(){ 
    // Initialize 
  } 

  // <span class="keyword">...</span> 

  <span class="keyword">return</span> myLib; 
})(); 
</code></pre><h1 id="2-_Use_self-executing_function_inside_a_loop">2. Use self-executing function inside a loop</h1>
<p>A for loop is one of the most frequently used statements in programming languages, and setTimeout() is often used in Javascript to delay the execution of a function. Together they could mean unexpected results if we didn’t fully understand how they work.</p>
<pre><code><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {
    setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span> console.log(i); },     <span class="number">1000</span>*i);     <span class="comment">// 6 6 6 6 6</span>
}
</code></pre><p>The above code seems like the obvious answer. We put console.log(i) within an anonymous function inside a setTimeout() function, and set each setTimeout() to be delayed 1 to 5 seconds (1000 x 1, 1000 x 2…) respectively. However, as soon as we run that codes, we know something is wrong. The numbers are each outputting to console 1 second after another consecutively, but they are all 6s. So we now have 6 6 6 6 6 as the end result.</p>
<p>The problem resides in the variable i we’re passing into setTimeout(). In this case, we’re simply passing the reference to the variable i, and not the actual value at the moment inside each loop. Therefore, by the time the setTimeout() function is executed (after 1, 2, 3, 4, and 5 seconds in this case), the for statement has already been executed and incremented i to the final value of 6.</p>
<p>To properly address this issue and achieve our intended behavior, we need to pass into setTimeout() the actual value of i at the moment of each loop execution in the for statement. We can use another anonymous function as a wrapper to help accomplish that:</p>
<pre><code><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) {
    (<span class="function"><span class="keyword">function</span><span class="params">(index)</span>{</span>
        setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
            console.log(index); <span class="comment">//0,1,2,3,4,5</span>
        }, i * <span class="number">1000</span>);
    })(i);
}           
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-23T15:21:42.000Z"><a href="/2014/08/23/Everything-about-javascript-function(4)---Flexible-Arguments/">Aug 23 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/23/Everything-about-javascript-function(4)---Flexible-Arguments/">Everything about javascript function(4) - Flexible Arguments</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-_Using_a_variable_number_of_arguments_to_our_advantage-">1. Using a variable number of arguments to our advantage.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">flat</span><span class="params">(root)</span> {</span>
    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length; i++) {
        <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> <span class="built_in">arguments</span>[i]) {
            root[key] = <span class="built_in">arguments</span>[i][key];
        }
    }
    <span class="keyword">return</span> root;
}

console.log(flat({<span class="string">'zkl'</span>:<span class="string">'great'</span>}, {<span class="string">'others'</span>: <span class="string">'?'</span>})); <span class="comment">//{ zkl: 'great', others: '?' }</span>
</code></pre><h1 id="2-_Use_apply()_to_find_the_Min/Max_number_in_an_array-">2. Use apply() to find the Min/Max number in an array.</h1>
<p>If you want to pass all values in array as parameter， you should use .apply().</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">findMax</span><span class="params">(array)</span> {</span>
    console.log(<span class="built_in">Math</span>.max.apply(<span class="keyword">this</span>, array));
}
<span class="function"><span class="keyword">function</span> <span class="title">findMin</span><span class="params">(array)</span> {</span>
    console.log(<span class="built_in">Math</span>.min.apply(<span class="keyword">this</span>, array));
}

findMax([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>]); <span class="comment">// 9</span>
findMin([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>]); <span class="comment">// 1 </span>
</code></pre><p>There’s another way to do this: use arguments.</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">findMax2</span><span class="params">()</span> {</span>
    console.log(<span class="built_in">Math</span>.max.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>));
}

findMax2(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>); <span class="comment">//9      </span>
</code></pre><p>arguments is similar to array but it’s not an array.     </p>
<h1 id="3-_How_to_sort_an_array_using_arguments_?">3. How to sort an array using arguments ?</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">sortArguments</span><span class="params">()</span> {</span>
    <span class="built_in">arguments</span>.sort(<span class="function"><span class="keyword">function</span><span class="params">(a ,b)</span> {</span>
        <span class="keyword">return</span> b - a;
    });
}

console.log(sortArguments(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>)); <span class="comment">//error</span>
</code></pre><p>There will be an error because arguments is not actually an array so it does’t have the sort() method.<br>So what we need to do is first convert this array-like object(arguments) to an array. This can be done using slice() method.</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">sortArguments</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> makeArray(<span class="built_in">arguments</span>).sort(<span class="function"><span class="keyword">function</span><span class="params">(a ,b)</span> {</span>
        <span class="keyword">return</span> b - a;
    });
}

<span class="function"><span class="keyword">function</span> <span class="title">makeArray</span><span class="params">(array)</span> {</span>
    <span class="keyword">return</span> [].slice.call(array);<span class="comment">//1.Equals to Array.prototype.slice.call(arguments, 0) 2.This function returns an array</span>
}

console.log(sortArguments(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>)); <span class="comment">//[ 7, 5, 3, 2, 1, 1 ]    </span>
</code></pre><h1 id="4-_Implement_a_multiplication_function_(first_argument_by_largest_number)-">4. Implement a multiplication function (first argument by largest number).</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">multiMax</span><span class="params">(multi)</span> {</span>
    <span class="keyword">var</span> allButFirst = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);
    <span class="keyword">var</span> largestAllButFirst = <span class="built_in">Math</span>.max.apply(<span class="keyword">this</span>, allButFirst);
    <span class="keyword">return</span> multi * largestAllButFirst;
}

console.log(multiMax(<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">21</span>,<span class="number">32</span>,<span class="number">654</span>,<span class="number">432</span>));    
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-19T14:58:13.000Z"><a href="/2014/08/19/Everything-about-javascript-function(3)-Instantiation/">Aug 19 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/19/Everything-about-javascript-function(3)-Instantiation/">Everything about javascript function(3): Instantiation</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-What_does_the_new_operator_do">1.What does the new operator do</h1>
<p>Very good resoure:<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="external">MDN:new operator</a></p>
<p>The new operator creates an instance of a user-defined object type or of one of the built-in object types that has a constructor function.</p>
<pre><code><span class="reserved">function</span> Ninja() {
    <span class="keyword">this</span>.name = <span class="string">'haha'</span>;
}

<span class="reserved">var</span> ninja = Ninja();
<span class="built_in">console</span>.log(!ninja); <span class="regexp">//</span><span class="literal">true</span>. Is <span class="literal">undefined</span>, <span class="keyword">not</span> an instance <span class="keyword">of</span> Ninja.

<span class="reserved">var</span> ninja2 = <span class="keyword">new</span> Ninja();
<span class="built_in">console</span>.log(!ninja2); <span class="regexp">//</span><span class="literal">false</span>. ninja2 <span class="keyword">is</span> an instance <span class="keyword">of</span> Ninja
</code></pre><h1 id="2-How_‘this’_worked_in_function?">2.How ‘this’ worked in function?</h1>
<p>For more detail describtion: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="external">MDN: this</a></p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span>{</span>
    <span class="keyword">this</span>.swung = <span class="literal">false</span>;

    <span class="comment">// Should return true</span>
    <span class="keyword">this</span>.swingSword = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
        <span class="keyword">this</span>.swung = !<span class="keyword">this</span>.swung; <span class="comment">//Use the property of closure</span>
        <span class="keyword">return</span> <span class="keyword">this</span>.swung;
    };
}

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();
console.log( ninja.swingSword()); <span class="comment">//True. Calling the instance method.</span>
console.log( ninja.swung); <span class="comment">//True. The ninja has swung the sword.</span>

<span class="keyword">var</span> ninjaB = <span class="keyword">new</span> Ninja();
console.log( !ninjaB.swung); <span class="comment">//True. Make sure that the ninja has not swung his sword.</span>
</code></pre><h1 id="3-What_will_happen_if_we_forget_to_use_new_operator?">3.What will happen if we forget to use new operator?</h1>
<pre><code><span class="reserved">function</span> User(first, last) {
    <span class="keyword">this</span>.name = first + <span class="string">' '</span> + last;
}
<span class="reserved">var</span> name = <span class="string">'zkl'</span>;
<span class="reserved">var</span> user = User(<span class="string">"John"</span>, <span class="string">"snow"</span>); <span class="regexp">//</span>This <span class="reserved">function</span> will be called <span class="keyword">when</span> assign it to a variable
<span class="built_in">console</span>.log(<span class="keyword">typeof</span> user); <span class="regexp">//</span><span class="literal">undefined</span>
<span class="built_in">console</span>.log(<span class="built_in">window</span>.name, name); <span class="regexp">//</span>John snow John snow. The name variable <span class="keyword">is</span> accidentally overridden.   
</code></pre><p>We need to prevent this happend, but how? Let’s see the code below:</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">User</span><span class="params">(first, last)</span>{</span> 
  <span class="keyword">if</span> ( !(<span class="keyword">this</span> <span class="keyword">instanceof</span> User) ) 
       <span class="keyword">return</span> <span class="keyword">new</span> User(first, last); 

  <span class="keyword">this</span>.name = first + <span class="string">" "</span> + last; 
} 

<span class="keyword">var</span> name = <span class="string">"Resig"</span>; 
<span class="keyword">var</span> user = User(<span class="string">"John"</span>, name);
</code></pre><p>We can also use arguments.callee:</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">User</span><span class="params">(first, last)</span>{</span> 
  <span class="keyword">if</span> ( !(<span class="keyword">this</span> <span class="keyword">instanceof</span> <span class="built_in">arguments</span>.callee) ) 
    <span class="keyword">return</span> <span class="keyword">new</span> User(first, last); 

  <span class="keyword">this</span>.name = first + <span class="string">" "</span> + last; 
} 

<span class="keyword">var</span> name = <span class="string">"Resig"</span>; 
<span class="keyword">var</span> user = User(<span class="string">"John"</span>, name);          
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-17T14:03:00.000Z"><a href="/2014/08/17/Everything-about-Javascript-function(2)-Function-and-Object/">Aug 17 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/17/Everything-about-Javascript-function(2)-Function-and-Object/">Everything about Javascript function(2): Function and Object</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-Functions_and_Objects_are_similar">1.Functions and Objects are similar</h1>
<pre><code><span class="keyword">var</span> obj = {};
<span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>};
obj.prop = <span class="string">"some value"</span>;
fn.prop = <span class="string">"some value"</span>;
console.log(obj.prop === fn.prop); <span class="comment">//true</span>
</code></pre><h1 id="2-How_“this”_worked_in_function_and_object?">2.How “this” worked in function and object?</h1>
<pre><code><span class="reserved">function</span> katana(){
    <span class="keyword">this</span>.isSharp = <span class="literal">true</span>;
}
katana();
<span class="built_in">console</span>.log(isSharp); <span class="regexp">//</span> <span class="literal">true</span>. Defined <span class="keyword">in</span> <span class="built_in">global</span> object (<span class="built_in">window</span> object)


<span class="reserved">var</span> shuriken = {
    <span class="attribute">toss</span>: <span class="reserved">function</span>(){
        <span class="keyword">this</span>.isSharp = <span class="literal">true</span>;
    }
};
shuriken.toss();
<span class="built_in">console</span>.log(shuriken.isSharp); <span class="regexp">//</span>ture. Denfined <span class="keyword">in</span> object
</code></pre><h1 id="3-_Call()_and_apply()_function">3. Call() and apply() function</h1>
<h2 id="First_thing_first:_How_call()_work?">First thing first: How call() work?</h2>
<p>From the book <code>Javascript: the definittive guide</code> there is an example of call(): To pass two numbers to the function f() and invoke it as if it were a method of thr object o, you can use the code like this :</p>
<pre><code>f.<span class="operator"><span class="keyword">call</span>(o, <span class="number">1</span>, <span class="number">2</span>);</span>
</code></pre><p>This is similar to the following lines of code:</p>
<pre><code>o<span class="preprocessor">.m</span> = f<span class="comment">;</span>
o<span class="preprocessor">.m</span>(<span class="number">1</span>, <span class="number">2</span>)<span class="comment">;</span>
delete o<span class="preprocessor">.m</span><span class="comment">;    </span>
</code></pre><p>Let’s see another example:</p>
<pre><code><span class="reserved">function</span> add(a, b){
    <span class="keyword">return</span> a + b;
}

<span class="built_in">console</span>.log( add.call(<span class="keyword">this</span>, <span class="number">1</span>, <span class="number">2</span>) == <span class="number">3</span>); <span class="regexp">//</span><span class="literal">true</span> .call() takes individual arguments

<span class="built_in">console</span>.log( add.apply(<span class="keyword">this</span>, [<span class="number">1</span>, <span class="number">2</span>]) == <span class="number">3</span>); <span class="regexp">//</span><span class="literal">true</span> .apply() takes an array <span class="keyword">of</span> arguments 
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-12T12:47:52.000Z"><a href="/2014/08/12/Everything-about-javascript-function(1)/">Aug 12 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/12/Everything-about-javascript-function(1)/">Everything about javascript function(1)</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-Three_ways_to_define_function">1.Three ways to define function</h1>
<pre><code>  <span class="function"><span class="keyword">function</span> <span class="title">isNimble</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; <span class="comment">//function definition(declaration)</span>
  <span class="keyword">var</span> canFly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; <span class="comment">//function expression</span>
  window.isDeadly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; <span class="comment">//assign function to object</span>
</code></pre><h1 id="2-Does_the_order_of_function_definition_matter?">2.Does the order of function definition matter?</h1>
<p>It doesn’t matter! Look at the code below:</p>
<pre><code><span class="keyword">var</span> canFly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; 
window.isDeadly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; 
isNimble() &amp;&amp; canFly() &amp;&amp; isDeadly(); <span class="comment">//true</span>
<span class="function"><span class="keyword">function</span> <span class="title">isNimble</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; } 
</code></pre><h1 id="3-Where_can_assignments_be_accessed?">3.Where can assignments be accessed?</h1>
<p>The order is matter!</p>
<pre><code><span class="keyword">typeof</span> canFly == <span class="string">"undefined"</span>; <span class="comment">//true</span>
<span class="keyword">typeof</span> isDeadly == <span class="string">"undefined"</span>;  <span class="comment">//true</span>
<span class="keyword">var</span> canFly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; 
window.isDeadly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; };
</code></pre><h1 id="4-Functions_be_defined_below_return_statements">4.Functions be defined below return statements</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">stealthCheck</span><span class="params">()</span>{</span> 
  stealth(); 

  <span class="keyword">return</span> stealth(); 

  <span class="function"><span class="keyword">function</span> <span class="title">stealth</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; } 
} 

stealthCheck(); <span class="comment">//true</span>
</code></pre><h1 id="5-What_is_the_name_of_a_function?">5.What is the name of a function?</h1>
<pre><code><span class="keyword">var</span> ninja = <span class="function"><span class="keyword">function</span> <span class="title">myNinja</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> ninja === myNinja; 
};
console.log(ninja()); <span class="comment">//True. This function is named two things - at once!</span>
console.log(<span class="keyword">typeof</span> myNinja === <span class="string">"undefined"</span>); <span class="comment">//True. Because myNinja isn't defined outside of the function."</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
    <a href="/categories/javascript/page/2/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:kelunblog.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/Angularjs/">Angular.js</a><small>2</small></li>
  
    <li><a href="/categories/Hacking/">Hacking</a><small>2</small></li>
  
    <li><a href="/categories/LAMP/">LAMP</a><small>1</small></li>
  
    <li><a href="/categories/RESTful/">RESTful</a><small>1</small></li>
  
    <li><a href="/categories/basic/">basic</a><small>1</small></li>
  
    <li><a href="/categories/github/">github</a><small>1</small></li>
  
    <li><a href="/categories/javascript/">javascript</a><small>11</small></li>
  
    <li><a href="/categories/linux/">linux</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Kali/">Kali</a><small>1</small></li>
  
    <li><a href="/tags/Mysql/">Mysql</a><small>1</small></li>
  
    <li><a href="/tags/PHP/">PHP</a><small>1</small></li>
  
    <li><a href="/tags/angular/">angular</a><small>2</small></li>
  
    <li><a href="/tags/apache/">apache</a><small>1</small></li>
  
    <li><a href="/tags/api/">api</a><small>1</small></li>
  
    <li><a href="/tags/base64/">base64</a><small>1</small></li>
  
    <li><a href="/tags/directive/">directive</a><small>1</small></li>
  
    <li><a href="/tags/file-upload/">file upload</a><small>1</small></li>
  
    <li><a href="/tags/github/">github</a><small>1</small></li>
  
    <li><a href="/tags/global-variable/">global variable</a><small>1</small></li>
  
    <li><a href="/tags/javascript-function/">javascript function</a><small>1</small></li>
  
    <li><a href="/tags/javascript-style/">javascript style</a><small>1</small></li>
  
    <li><a href="/tags/kali/">kali</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>1</small></li>
  
    <li><a href="/tags/penetration-testing/">penetration testing</a><small>2</small></li>
  
    <li><a href="/tags/rest/">rest</a><small>1</small></li>
  
    <li><a href="/tags/sockets/">sockets</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 Kelun Zhang
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53633801-1', 'auto');
  ga('send', 'pageview');

</script>


<script type="text/javascript">
var disqus_shortname = 'kelunblog';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>