<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 | Archives | Kelun | Blog</title>
  <meta name="author" content="Kelun Zhang">
  
  <meta name="description" content="This is my bolg, welcome">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Kelun | Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Kelun | Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-53633801-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Kelun | Blog</a></h1>
  <h2><a href="/">A code monkey with a simple dream</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/atom.xml">Rss</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">Archives</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-26T23:35:08.000Z"><a href="/2014/08/26/Everything-about-Javascript-function(6)---Function-Prototype/">Aug 26 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/26/Everything-about-Javascript-function(6)---Function-Prototype/">Everything about Javascript function(6) - Function Prototype and the instance type</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-_Adding_a_prototyped_method_to_a_function">1. Adding a prototyped method to a function</h1>
<pre><code><span class="reserved">function</span> Ninja(){}

Ninja.prototype.swingSword = <span class="reserved">function</span>(){
    <span class="keyword">return</span> <span class="literal">true</span>;
};

<span class="reserved">var</span> ninjaA = Ninja();
<span class="built_in">console</span>.log( !ninjaA) <span class="regexp">//</span>True. Is <span class="literal">undefined</span>, <span class="keyword">not</span> an instance <span class="keyword">of</span> Ninja.

<span class="reserved">var</span> ninjaB = <span class="keyword">new</span> Ninja();
<span class="built_in">console</span>.log( ninjaB.swingSword()); <span class="regexp">//</span>True. Method exists <span class="keyword">and</span> <span class="keyword">is</span> callable.
</code></pre><h1 id="2-_Properties_added_in_the_constructor_(or_later)_override_prototyped_properties-">2. Properties added in the constructor (or later) override prototyped properties.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span>{</span>
    <span class="keyword">this</span>.swingSword = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
        <span class="keyword">return</span> <span class="literal">true</span>;
    };
}

<span class="comment">// Should return false, but will be overridden</span>
Ninja.prototype.swingSword = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
    <span class="keyword">return</span> <span class="literal">false</span>;
};

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();
console.log( ninja.swingSword()); <span class="comment">//Calling the instance method, not the prototype method.</span>
</code></pre><h1 id="3-_The_chainable_method_must_return_this-">3. The chainable method must return this.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span> {</span>
    <span class="keyword">this</span>.swung = <span class="literal">true</span>;
}

<span class="keyword">var</span> ninjaA = <span class="keyword">new</span> Ninja();
<span class="keyword">var</span> ninjaB = <span class="keyword">new</span> Ninja();

Ninja.prototype.swing = <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">this</span>.swung = <span class="literal">false</span>;
    <span class="keyword">return</span> <span class="keyword">this</span>;
};

console.log(!ninjaA.swing().swung); <span class="comment">//True. Verify that the swing method exists and returns an instance.;</span>
console.log(!ninjaB.swing().swung); <span class="comment">//True. and that it works on all Ninja instances. </span>
</code></pre><h1 id="4-_Examining_the_basic_of_an_object">4. Examining the basic of an object</h1>
<p><code>typeof, instanceof, .constructor() is three important method to examing an object.</code></p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span>{</span>};

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();

console.log(<span class="keyword">typeof</span> ninja, ninja <span class="keyword">instanceof</span> Ninja, ninja.constructor == Ninja);<span class="comment">// object, true ,true</span>
</code></pre><h1 id="5-_Use_constructor_to_build_other_instances-">5. Use constructor to build other instances.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span>{</span>};

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();
<span class="keyword">var</span> ninjaB = <span class="keyword">new</span> ninja.constructor();

console.log(ninjaB <span class="keyword">instanceof</span> Ninja);<span class="comment">// true</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-25T23:20:09.000Z"><a href="/2014/08/25/Everything-about-javascript(5)---Temporary-Scope-/">Aug 25 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/25/Everything-about-javascript(5)---Temporary-Scope-/">Everything about javascript(5) - Temporary Scope </a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-_Isolate_scope:_Self-executing_function">1. Isolate scope: Self-executing function</h1>
<p>We can’t access the variable inside a self-executing function.</p>
<pre><code>(<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">var</span> count = <span class="number">0</span>;

    <span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">if</span> (count &lt; <span class="number">5</span>) {
            console.log(<span class="string">"Timer call: "</span>, count);
            count++;
        } <span class="keyword">else</span> {
            console.log(count == <span class="number">5</span>); <span class="comment">//true. Count came via a closure, accessed each step.</span>
            console.log(<span class="keyword">typeof</span> timer); <span class="comment">//object. The timer reference is also via a closure.</span>
            clearInterval(timer);
        }
    }, <span class="number">100</span>);
})();

console.log(<span class="keyword">typeof</span> count); <span class="comment">//undefined. count doesn't exist outside the wrapper</span>
console.log(<span class="keyword">typeof</span> timer); <span class="comment">//undefined. neither does timer</span>
</code></pre><p>We can use this feature to wrap a libary:</p>
<pre><code>var myLib = (<span class="keyword">function</span>(){ 
  <span class="keyword">function</span> myLib(){ 
    // Initialize 
  } 

  // <span class="keyword">...</span> 

  <span class="keyword">return</span> myLib; 
})(); 
</code></pre><h1 id="2-_Use_self-executing_function_inside_a_loop">2. Use self-executing function inside a loop</h1>
<p>A for loop is one of the most frequently used statements in programming languages, and setTimeout() is often used in Javascript to delay the execution of a function. Together they could mean unexpected results if we didn’t fully understand how they work.</p>
<pre><code><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) {
    setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span> console.log(i); },     <span class="number">1000</span>*i);     <span class="comment">// 6 6 6 6 6</span>
}
</code></pre><p>The above code seems like the obvious answer. We put console.log(i) within an anonymous function inside a setTimeout() function, and set each setTimeout() to be delayed 1 to 5 seconds (1000 x 1, 1000 x 2…) respectively. However, as soon as we run that codes, we know something is wrong. The numbers are each outputting to console 1 second after another consecutively, but they are all 6s. So we now have 6 6 6 6 6 as the end result.</p>
<p>The problem resides in the variable i we’re passing into setTimeout(). In this case, we’re simply passing the reference to the variable i, and not the actual value at the moment inside each loop. Therefore, by the time the setTimeout() function is executed (after 1, 2, 3, 4, and 5 seconds in this case), the for statement has already been executed and incremented i to the final value of 6.</p>
<p>To properly address this issue and achieve our intended behavior, we need to pass into setTimeout() the actual value of i at the moment of each loop execution in the for statement. We can use another anonymous function as a wrapper to help accomplish that:</p>
<pre><code><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; i++) {
    (<span class="function"><span class="keyword">function</span><span class="params">(index)</span>{</span>
        setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
            console.log(index); <span class="comment">//0,1,2,3,4,5</span>
        }, i * <span class="number">1000</span>);
    })(i);
}           
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-24T03:21:42.000Z"><a href="/2014/08/23/Everything-about-javascript-function(4)---Flexible-Arguments/">Aug 23 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/23/Everything-about-javascript-function(4)---Flexible-Arguments/">Everything about javascript function(4) - Flexible Arguments</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-_Using_a_variable_number_of_arguments_to_our_advantage-">1. Using a variable number of arguments to our advantage.</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">flat</span><span class="params">(root)</span> {</span>
    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length; i++) {
        <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> <span class="built_in">arguments</span>[i]) {
            root[key] = <span class="built_in">arguments</span>[i][key];
        }
    }
    <span class="keyword">return</span> root;
}

console.log(flat({<span class="string">'zkl'</span>:<span class="string">'great'</span>}, {<span class="string">'others'</span>: <span class="string">'?'</span>})); <span class="comment">//{ zkl: 'great', others: '?' }</span>
</code></pre><h1 id="2-_Use_apply()_to_find_the_Min/Max_number_in_an_array-">2. Use apply() to find the Min/Max number in an array.</h1>
<p>If you want to pass all values in array as parameter， you should use .apply().</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">findMax</span><span class="params">(array)</span> {</span>
    console.log(<span class="built_in">Math</span>.max.apply(<span class="keyword">this</span>, array));
}
<span class="function"><span class="keyword">function</span> <span class="title">findMin</span><span class="params">(array)</span> {</span>
    console.log(<span class="built_in">Math</span>.min.apply(<span class="keyword">this</span>, array));
}

findMax([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>]); <span class="comment">// 9</span>
findMin([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>]); <span class="comment">// 1 </span>
</code></pre><p>There’s another way to do this: use arguments.</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">findMax2</span><span class="params">()</span> {</span>
    console.log(<span class="built_in">Math</span>.max.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>));
}

findMax2(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>); <span class="comment">//9      </span>
</code></pre><p>arguments is similar to array but it’s not an array.     </p>
<h1 id="3-_How_to_sort_an_array_using_arguments_?">3. How to sort an array using arguments ?</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">sortArguments</span><span class="params">()</span> {</span>
    <span class="built_in">arguments</span>.sort(<span class="function"><span class="keyword">function</span><span class="params">(a ,b)</span> {</span>
        <span class="keyword">return</span> b - a;
    });
}

console.log(sortArguments(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>)); <span class="comment">//error</span>
</code></pre><p>There will be an error because arguments is not actually an array so it does’t have the sort() method.<br>So what we need to do is first convert this array-like object(arguments) to an array. This can be done using slice() method.</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">sortArguments</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> makeArray(<span class="built_in">arguments</span>).sort(<span class="function"><span class="keyword">function</span><span class="params">(a ,b)</span> {</span>
        <span class="keyword">return</span> b - a;
    });
}

<span class="function"><span class="keyword">function</span> <span class="title">makeArray</span><span class="params">(array)</span> {</span>
    <span class="keyword">return</span> [].slice.call(array);<span class="comment">//1.Equals to Array.prototype.slice.call(arguments, 0) 2.This function returns an array</span>
}

console.log(sortArguments(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>)); <span class="comment">//[ 7, 5, 3, 2, 1, 1 ]    </span>
</code></pre><h1 id="4-_Implement_a_multiplication_function_(first_argument_by_largest_number)-">4. Implement a multiplication function (first argument by largest number).</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">multiMax</span><span class="params">(multi)</span> {</span>
    <span class="keyword">var</span> allButFirst = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);
    <span class="keyword">var</span> largestAllButFirst = <span class="built_in">Math</span>.max.apply(<span class="keyword">this</span>, allButFirst);
    <span class="keyword">return</span> multi * largestAllButFirst;
}

console.log(multiMax(<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">21</span>,<span class="number">32</span>,<span class="number">654</span>,<span class="number">432</span>));    
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-20T02:58:13.000Z"><a href="/2014/08/19/Everything-about-javascript-function(3)-Instantiation/">Aug 19 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/19/Everything-about-javascript-function(3)-Instantiation/">Everything about javascript function(3): Instantiation</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-What_does_the_new_operator_do">1.What does the new operator do</h1>
<p>Very good resoure:<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="external">MDN:new operator</a></p>
<p>The new operator creates an instance of a user-defined object type or of one of the built-in object types that has a constructor function.</p>
<pre><code><span class="reserved">function</span> Ninja() {
    <span class="keyword">this</span>.name = <span class="string">'haha'</span>;
}

<span class="reserved">var</span> ninja = Ninja();
<span class="built_in">console</span>.log(!ninja); <span class="regexp">//</span><span class="literal">true</span>. Is <span class="literal">undefined</span>, <span class="keyword">not</span> an instance <span class="keyword">of</span> Ninja.

<span class="reserved">var</span> ninja2 = <span class="keyword">new</span> Ninja();
<span class="built_in">console</span>.log(!ninja2); <span class="regexp">//</span><span class="literal">false</span>. ninja2 <span class="keyword">is</span> an instance <span class="keyword">of</span> Ninja
</code></pre><h1 id="2-How_‘this’_worked_in_function?">2.How ‘this’ worked in function?</h1>
<p>For more detail describtion: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="external">MDN: this</a></p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span><span class="params">()</span>{</span>
    <span class="keyword">this</span>.swung = <span class="literal">false</span>;

    <span class="comment">// Should return true</span>
    <span class="keyword">this</span>.swingSword = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>
        <span class="keyword">this</span>.swung = !<span class="keyword">this</span>.swung; <span class="comment">//Use the property of closure</span>
        <span class="keyword">return</span> <span class="keyword">this</span>.swung;
    };
}

<span class="keyword">var</span> ninja = <span class="keyword">new</span> Ninja();
console.log( ninja.swingSword()); <span class="comment">//True. Calling the instance method.</span>
console.log( ninja.swung); <span class="comment">//True. The ninja has swung the sword.</span>

<span class="keyword">var</span> ninjaB = <span class="keyword">new</span> Ninja();
console.log( !ninjaB.swung); <span class="comment">//True. Make sure that the ninja has not swung his sword.</span>
</code></pre><h1 id="3-What_will_happen_if_we_forget_to_use_new_operator?">3.What will happen if we forget to use new operator?</h1>
<pre><code><span class="reserved">function</span> User(first, last) {
    <span class="keyword">this</span>.name = first + <span class="string">' '</span> + last;
}
<span class="reserved">var</span> name = <span class="string">'zkl'</span>;
<span class="reserved">var</span> user = User(<span class="string">"John"</span>, <span class="string">"snow"</span>); <span class="regexp">//</span>This <span class="reserved">function</span> will be called <span class="keyword">when</span> assign it to a variable
<span class="built_in">console</span>.log(<span class="keyword">typeof</span> user); <span class="regexp">//</span><span class="literal">undefined</span>
<span class="built_in">console</span>.log(<span class="built_in">window</span>.name, name); <span class="regexp">//</span>John snow John snow. The name variable <span class="keyword">is</span> accidentally overridden.   
</code></pre><p>We need to prevent this happend, but how? Let’s see the code below:</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">User</span><span class="params">(first, last)</span>{</span> 
  <span class="keyword">if</span> ( !(<span class="keyword">this</span> <span class="keyword">instanceof</span> User) ) 
       <span class="keyword">return</span> <span class="keyword">new</span> User(first, last); 

  <span class="keyword">this</span>.name = first + <span class="string">" "</span> + last; 
} 

<span class="keyword">var</span> name = <span class="string">"Resig"</span>; 
<span class="keyword">var</span> user = User(<span class="string">"John"</span>, name);
</code></pre><p>We can also use arguments.callee:</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">User</span><span class="params">(first, last)</span>{</span> 
  <span class="keyword">if</span> ( !(<span class="keyword">this</span> <span class="keyword">instanceof</span> <span class="built_in">arguments</span>.callee) ) 
    <span class="keyword">return</span> <span class="keyword">new</span> User(first, last); 

  <span class="keyword">this</span>.name = first + <span class="string">" "</span> + last; 
} 

<span class="keyword">var</span> name = <span class="string">"Resig"</span>; 
<span class="keyword">var</span> user = User(<span class="string">"John"</span>, name);          
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-18T02:03:00.000Z"><a href="/2014/08/17/Everything-about-Javascript-function(2)-Function-and-Object/">Aug 17 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/17/Everything-about-Javascript-function(2)-Function-and-Object/">Everything about Javascript function(2): Function and Object</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-Functions_and_Objects_are_similar">1.Functions and Objects are similar</h1>
<pre><code><span class="keyword">var</span> obj = {};
<span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span>};
obj.prop = <span class="string">"some value"</span>;
fn.prop = <span class="string">"some value"</span>;
console.log(obj.prop === fn.prop); <span class="comment">//true</span>
</code></pre><h1 id="2-How_“this”_worked_in_function_and_object?">2.How “this” worked in function and object?</h1>
<pre><code><span class="reserved">function</span> katana(){
    <span class="keyword">this</span>.isSharp = <span class="literal">true</span>;
}
katana();
<span class="built_in">console</span>.log(isSharp); <span class="regexp">//</span> <span class="literal">true</span>. Defined <span class="keyword">in</span> <span class="built_in">global</span> object (<span class="built_in">window</span> object)


<span class="reserved">var</span> shuriken = {
    <span class="attribute">toss</span>: <span class="reserved">function</span>(){
        <span class="keyword">this</span>.isSharp = <span class="literal">true</span>;
    }
};
shuriken.toss();
<span class="built_in">console</span>.log(shuriken.isSharp); <span class="regexp">//</span>ture. Denfined <span class="keyword">in</span> object
</code></pre><h1 id="3-_Call()_and_apply()_function">3. Call() and apply() function</h1>
<h2 id="First_thing_first:_How_call()_work?">First thing first: How call() work?</h2>
<p>From the book <code>Javascript: the definittive guide</code> there is an example of call(): To pass two numbers to the function f() and invoke it as if it were a method of thr object o, you can use the code like this :</p>
<pre><code>f.<span class="operator"><span class="keyword">call</span>(o, <span class="number">1</span>, <span class="number">2</span>);</span>
</code></pre><p>This is similar to the following lines of code:</p>
<pre><code>o<span class="preprocessor">.m</span> = f<span class="comment">;</span>
o<span class="preprocessor">.m</span>(<span class="number">1</span>, <span class="number">2</span>)<span class="comment">;</span>
delete o<span class="preprocessor">.m</span><span class="comment">;    </span>
</code></pre><p>Let’s see another example:</p>
<pre><code><span class="reserved">function</span> add(a, b){
    <span class="keyword">return</span> a + b;
}

<span class="built_in">console</span>.log( add.call(<span class="keyword">this</span>, <span class="number">1</span>, <span class="number">2</span>) == <span class="number">3</span>); <span class="regexp">//</span><span class="literal">true</span> .call() takes individual arguments

<span class="built_in">console</span>.log( add.apply(<span class="keyword">this</span>, [<span class="number">1</span>, <span class="number">2</span>]) == <span class="number">3</span>); <span class="regexp">//</span><span class="literal">true</span> .apply() takes an array <span class="keyword">of</span> arguments 
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-13T00:47:52.000Z"><a href="/2014/08/12/Everything-about-javascript-function(1)/">Aug 12 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/12/Everything-about-javascript-function(1)/">Everything about javascript function(1)</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="1-Three_ways_to_define_function">1.Three ways to define function</h1>
<pre><code>  <span class="function"><span class="keyword">function</span> <span class="title">isNimble</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; <span class="comment">//function definition(declaration)</span>
  <span class="keyword">var</span> canFly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; <span class="comment">//function expression</span>
  window.isDeadly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; <span class="comment">//assign function to object</span>
</code></pre><h1 id="2-Does_the_order_of_function_definition_matter?">2.Does the order of function definition matter?</h1>
<p>It doesn’t matter! Look at the code below:</p>
<pre><code><span class="keyword">var</span> canFly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; 
window.isDeadly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; 
isNimble() &amp;&amp; canFly() &amp;&amp; isDeadly(); <span class="comment">//true</span>
<span class="function"><span class="keyword">function</span> <span class="title">isNimble</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; } 
</code></pre><h1 id="3-Where_can_assignments_be_accessed?">3.Where can assignments be accessed?</h1>
<p>The order is matter!</p>
<pre><code><span class="keyword">typeof</span> canFly == <span class="string">"undefined"</span>; <span class="comment">//true</span>
<span class="keyword">typeof</span> isDeadly == <span class="string">"undefined"</span>;  <span class="comment">//true</span>
<span class="keyword">var</span> canFly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; }; 
window.isDeadly = <span class="function"><span class="keyword">function</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; };
</code></pre><h1 id="4-Functions_be_defined_below_return_statements">4.Functions be defined below return statements</h1>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">stealthCheck</span><span class="params">()</span>{</span> 
  stealth(); 

  <span class="keyword">return</span> stealth(); 

  <span class="function"><span class="keyword">function</span> <span class="title">stealth</span><span class="params">()</span>{</span> <span class="keyword">return</span> <span class="literal">true</span>; } 
} 

stealthCheck(); <span class="comment">//true</span>
</code></pre><h1 id="5-What_is_the_name_of_a_function?">5.What is the name of a function?</h1>
<pre><code><span class="keyword">var</span> ninja = <span class="function"><span class="keyword">function</span> <span class="title">myNinja</span><span class="params">()</span> {</span>
    <span class="keyword">return</span> ninja === myNinja; 
};
console.log(ninja()); <span class="comment">//True. This function is named two things - at once!</span>
console.log(<span class="keyword">typeof</span> myNinja === <span class="string">"undefined"</span>); <span class="comment">//True. Because myNinja isn't defined outside of the function."</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-04T14:38:30.000Z"><a href="/2014/08/04/Global-variable-in-javascript/">Aug 4 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/04/Global-variable-in-javascript/">Global variable in javascript</a></h1>
  

    </header>
    <div class="entry">
      
        <p>This blog mainly talk about how global variable works in Javascript.</p>
<h1 id="1-_Two_same_way_to_assign_global_variable-">1. Two same way to assign global variable.</h1>
<h2 id="The_most_comman_way-">The most comman way.</h2>
<pre><code><span class="keyword">var</span> myvar = <span class="number">5</span>;
<span class="function"><span class="keyword">function</span> <span class="title">myFunction</span><span class="params">()</span>
       <span class="title">alert</span><span class="params">(myvar)</span>;</span> <span class="comment">// 5</span>
}
</code></pre><h2 id="Use_window_object">Use window object</h2>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">setValue</span><span class="params">()</span>
{</span>
    window.myValue = <span class="string">"test"</span>;
}

<span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span>
{</span>
    alert(window.myValue); <span class="comment">// "test" (assuming     setValue has run)</span>
}    
</code></pre><p>when a global variable is set, it’s added to the window object.</p>
<pre><code><span class="keyword">var</span> myValue;
<span class="function"><span class="keyword">function</span> <span class="title">setValue</span><span class="params">()</span>
{</span>
    myValue = <span class="string">"test"</span>;
}

<span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span>
{</span>
    alert(window.myValue); <span class="comment">// yup, it's "test"</span>
}
</code></pre><h1 id="2-_A_safer_way_to_assign_global_variable-">2. A safer way to assign global variable.</h1>
<pre><code><span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">
(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span> <span class="comment">// Begin scoping function</span>
    <span class="keyword">var</span> yourGlobalVariable; <span class="comment">// Global to your code, invisible outside the scoping function</span>
    <span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> {</span>
        <span class="comment">// ...</span>
    }
})();         <span class="comment">// End scoping function</span>
</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-01T23:50:14.000Z"><a href="/2014/08/01/Github总结/">Aug 1 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/01/Github总结/">Github总结</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Gitgub_总结">Gitgub 总结</h1>
<h2 id="1-远程仓库相关命令">1.远程仓库相关命令</h2>
<ul>
<li>检出仓库：$ git clone git://github.com/jquery/jquery.git</li>
<li>查看远程仓库：$ git remote -v</li>
<li>添加远程仓库：$ git remote add [name] [url]</li>
<li>删除远程仓库：$ git remote rm [name]</li>
<li>修改远程仓库：$ git remote set-url —push [name] [newUrl]</li>
<li>拉取远程仓库：$ git pull [remoteName] [localBranchName]</li>
<li><p>推送远程仓库：$ git push [remoteName] [localBranchName]</p>
<p>如果想把本地的某个分支test提交到远程仓库，并作为远程仓库的master分支，或者作为另外一个名叫test的分支，如下：</p>
<ul>
<li>$ git push origin test:master         // 提交本地test分支作为远程的master分支</li>
<li>$ git push origin test:test           // 提交本地test分支作为远程的test分支</li>
</ul>
</li>
</ul>
<h2 id="2-_分支(branch)操作相关命令">2. 分支(branch)操作相关命令</h2>
<ul>
<li>查看本地分支：$ git branch</li>
<li>查看远程分支：$ git branch -r （如果还是看不到就先 git fetch origin 先）</li>
<li>创建本地分支：$ git branch [name] ——注意新分支创建后不会自动切换为当前分支</li>
<li>切换分支：$ git checkout [name]</li>
<li>创建新分支并立即切换到新分支：$ git checkout -b [name]</li>
<li>直接检出远程分支：$ git checkout -b [name] [remoteName] (如：git checkout -b myNewBranch origin/dragon)</li>
<li>删除分支：$ git branch -d [name] —— -d选项只能删除已经参与了合并的分支，对于未有合并的分支是无法删除的。如果想强制删除一个分支，可以使用-D选项</li>
<li>合并分支：$ git merge [name] ——将名称为[name]的分支与当前分支合并</li>
<li>合并最后的2个提交：$ git rebase -i HEAD~2 —— 数字2按需修改即可（如果需提交到远端$ git push -f origin master 慎用！）</li>
<li>创建远程分支(本地分支push到远程)：$ git push origin [name]</li>
<li><p>删除远程分支：$ git push origin :heads/[name] 或 $ git push origin :[name] </p>
</li>
<li><p>创建空的分支：(执行命令之前记得先提交你当前分支的修改，否则会被强制删干净没得后悔)<br>$ git symbolic-ref HEAD refs/heads/[name]<br>$ rm .git/index<br>$ git clean -fdx    </p>
</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-29T02:26:37.000Z"><a href="/2014/07/28/How-to-build-angular-directives/">Jul 28 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/28/How-to-build-angular-directives/">How to build angular directives</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="How_directives_are_born">How directives are born</h2>
<p>When the DOM is done loading and the AngularJS process starts booting up, the first process that happens is the HTML is parsed by the browser as a DOM tree. This tree is then parsed using AngularJS’s $compile() method. $compile runs through the DOM tree and looks for directive declarations for the different DOM elements. Once all directive declarations are found for each DOM element and sorted (by priority, which we’ll get into shortly), the directive’s compile function is run and is expected to return a link() function. The $compile() function will return a linking function that wraps all of the containing DOM element’s directives’ linking functions.</p>
<p>Finally, the linking function is invoked with the containing scope that attaches all of the associated directives to that scope. This is where we’ll do most of the work when building directives, as this is where we can register listeners, set up watches, and add functionality. The result of this process is why the live data-binding exists between the scope and the DOM tree. </p>
<p>We’ll use the compile function to both manipulate the DOM before it’s rendered and return a link function (that will handle the linking for us). This also is the place to put any methods that need to be shared around with all of the instances of this directive.</p>
<p>We’ll use the link function to <strong>register all listeners on a specific DOM element</strong> (that’s cloned from the template) and set up our bindings to the page.</p>
<h2 id="Build_our_own_directive">Build our own directive</h2>
<h3 id="Matching_Directives">Matching Directives</h3>
<p>The normalization process is as follows:</p>
<ul>
<li><p>Strip x- and data- from the front of the element/attributes.</p>
</li>
<li><p>Convert the :, -, or _-delimited name to camelCase.</p>
</li>
</ul>
<p>Here are some equivalent examples of elements that match <strong>ngBind</strong>:</p>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">ng-controller</span>=<span class="value">"Controller"</span>&gt;</span>
    Hello <span class="tag">&lt;<span class="title">input</span> <span class="attribute">ng-model</span>=<span class="value">'name'</span>&gt;</span> <span class="tag">&lt;<span class="title">hr</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">ng-bind</span>=<span class="value">"name"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">br</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">ng:bind</span>=<span class="value">"name"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">br</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">ng_bind</span>=<span class="value">"name"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">br</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">data-ng-bind</span>=<span class="value">"name"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">br</span>/&gt;</span>
    <span class="tag">&lt;<span class="title">span</span> <span class="attribute">x-ng-bind</span>=<span class="value">"name"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span> <span class="tag">&lt;<span class="title">br</span>/&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span>    
</code></pre><h3 id="Restrict_option">Restrict option</h3>
<p>he restrict option is used to specify how a directive can be invoked on the page.</p>
<pre><code>'A' - <span class="tag">&lt;<span class="title">span</span> <span class="attribute">ng-sparkline</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span> //Attribute
'E' - <span class="tag">&lt;<span class="title">ng-sparkline</span>&gt;</span><span class="tag">&lt;/<span class="title">ng-sparkline</span>&gt;</span> //Element
'C' - <span class="tag">&lt;<span class="title">span</span> <span class="attribute">class</span>=<span class="value">"ng-sparkline"</span>&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span> //Class
'M' - <span class="comment">&lt;!-- directive: ng-sparkline --&gt;</span> //Comment
</code></pre><p>The restrict option can specify multiple options, as well. If you want to support more than one as an element or an attribute, simply make sure all are specified in the restrict keyword:</p>
<pre><code><span class="attribute">restrict</span>: <span class="string">'EA'</span>
</code></pre><h3 id="TemplateUrl">TemplateUrl</h3>
<p>If you prefer to load a template over ajax, you can specify the templateUrl option, which will use ajax to pull the template.</p>
<pre><code><span class="attribute">templateUrl</span>: <span class="string">'templates/ng-sparkline-template.html'        </span>
</code></pre><h3 id="Require">Require</h3>
<p>When a directive uses this option, $compile will throw an error unless the specified controller is found. The ^ prefix means that this directive searches for the controller on its parents (without the ^ prefix, the directive would look for the controller on just its own element).    </p>
<pre><code>^ <span class="subst">--</span> Look for the controller <span class="keyword">on</span> <span class="keyword">parent</span> elements, <span class="literal">not</span> just <span class="keyword">on</span> the <span class="built_in">local</span> scope

<span class="subst">?</span> <span class="subst">--</span> Don<span class="string">'t raise an error if the controller isn'</span>t found
</code></pre><p>Use this option can <a href="https://docs.angularjs.org/guide/directive" target="_blank" rel="external">Creating directive that communicate</a></p>
<h3 id="Scope">Scope</h3>
<p>There are 3 types of binding options which are defined as prefixes in the scope property. The prefix is followed by the attribute name of HTML element. These types are as follows</p>
<ol>
<li>Text Binding (Prefix: @). Usually text</li>
<li>One-way Binding (Prefix: &amp;). Usually function(Defined as functions).</li>
<li>Two-way Binding (Prefix: =)</li>
</ol>
<p>Example:</p>
<p><strong>HTML:</strong>    </p>
<pre><code><span class="subst">&lt;</span>learn<span class="attribute">-directive</span> ng<span class="attribute">-model</span><span class="subst">=</span><span class="string">"city"</span> form<span class="attribute">-name</span><span class="subst">=</span><span class="string">"haha"</span> obj<span class="attribute">-in</span><span class="attribute">-controller</span><span class="subst">=</span><span class="string">"someObj"</span><span class="subst">&gt;&lt;</span>/learn<span class="attribute">-directive</span><span class="subst">&gt;</span>
</code></pre><p><strong>Template:</strong></p>
<pre><code><span class="tag">&lt;<span class="title">div</span>&gt;</span>this is the learnDirective directive<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;<span class="title">div</span>&gt;</span><span class="tag">&lt;<span class="title">h4</span>&gt;</span><span class="tag">&lt;/<span class="title">h4</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span> //data binding
</code></pre><p><strong>Directive:</strong></p>
<pre><code><span class="pi">'use strict'</span>;

angular.module(<span class="string">'testApp'</span>)
    .directive(<span class="string">'learnDirective'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
        <span class="keyword">return</span> {
            templateUrl: <span class="string">'app/learnDirective/learnDirective.html'</span>,
            restrict: <span class="string">'EA'</span>,
            scope:{
                ngModel: <span class="string">'='</span>,
                formName: <span class="string">'@'</span>,
                obj: <span class="string">'&amp;objInController'</span>
            },
            link: <span class="function"><span class="keyword">function</span> <span class="params">(scope, element, attrs)</span> {</span>
                console.log(scope.obj()); <span class="comment">//return the obj which defined in controller</span>
            }
        };
    });        
</code></pre><h3 id="Controller_option">Controller option</h3>
<p>In a directive, when we set the controller option we are creating a controller for the directive. This controller is instantiated before the pre-linking phase. </p>
<p>We are defining a controller function in our directive, so we don’t need to define either of these functions, but it is important to note that <strong>we cannot do DOM manipulations in our controller function</strong>.</p>
<p>Example:</p>
<pre><code><span class="pi">'use strict'</span>;

angular.module(<span class="string">'testApp'</span>)
    .directive(<span class="string">'learnDirective'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>

        <span class="keyword">return</span> {
            templateUrl: <span class="string">'app/learnDirective/learnDirective.html'</span>,
            restrict: <span class="string">'EA'</span>,
            scope:{
                ngModel: <span class="string">'='</span>,
                formName: <span class="string">'@'</span>,
                obj: <span class="string">'&amp;objInController'</span>
            },
            controller: [<span class="string">'$scope'</span>, <span class="string">'$http'</span>, <span class="function"><span class="keyword">function</span><span class="params">($scope, $http)</span> {</span>
                <span class="keyword">var</span> url = <span class="string">"http://api.openweathermap.org/data/2.5/weather?q=Beijing"</span>;
                $scope.getTemp = <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
                    $http({
                        method: <span class="string">'get'</span>,
                        url: url
                    }).success(<span class="function"><span class="keyword">function</span><span class="params">(data)</span> {</span>
                        $scope.weather = data.weather;
                    });
                };
            }],
            link: <span class="function"><span class="keyword">function</span> <span class="params">(scope, element, attrs)</span> {</span>
                scope.getTemp();
                scope.$watch(<span class="string">'weather'</span>, <span class="function"><span class="keyword">function</span><span class="params">(newValue)</span>{</span>
                      <span class="keyword">if</span>(newValue) {
                          console.log(newValue[<span class="number">0</span>]);
                      }
                })
            }
        };
    });
</code></pre><p>we’ll need to create a $watch on the weather object. Because we are fetching the weather data asynchronously, we cannot simply write the method expecting the data to be populated for us when the linking function runs. No matter, AngularJS makes this incredibly easy with the built-in function $watch.</p>
<h3 id="Transclude">Transclude</h3>
<p>Basicly this option allow you to inbed html code in your directive. There is a very good example: <a href="http://stackoverflow.com/questions/15296284/how-to-understand-the-transclude-of-directive-defination" target="_blank" rel="external">How to understand the <code>transclude</code> of directive defination?</a> </p>
<h3 id="Replace">Replace</h3>
<p>Replace the directive tag. <a href="http://stackoverflow.com/questions/22497706/angular-directive-replace-true" target="_blank" rel="external">replace option in angular.js</a></p>
<h3 id="Difference_between_the_‘controller’,_‘link’_and_‘compile’_functions_when_defining_an_angular-js_directive">Difference between the ‘controller’, ‘link’ and ‘compile’ functions when defining an angular.js directive</h3>
<p>compile function - use for template DOM manipulation (i.e., manipulation of tElement = template element), hence manipulations that apply to all DOM clones of the template associated with the directive. (If you also need a link function (or pre and post link functions), and you defined a compile function, the compile function must return the link function(s) because the ‘link’ attribute is ignored if the ‘compile’ attribute is defined.)</p>
<p>link function - normally use for registering DOM listeners (i.e., $watch expressions on the scope) as well as updating the DOM (i.e., manipulation of iElement = individual instance element). It is executed after the template has been cloned — e.g., inside an <code>&lt;li ng-repeat...&gt;</code>, the link function is executed after the <code>&lt;li&gt;</code> template (tElement) has been cloned (into an iElement) for that particular <code>&lt;li&gt;</code> element. A $watch allows a directive to be notified of scope property changes (a scope is associated with each instance), which allows the directive to render an updated instance value to the DOM.</p>
<p>controller function - must be used when another directive needs to interact with this directive. E.g., on the AngularJS home page, the pane directive needs to add itself to the scope maintained by the tabs directive, hence the tabs directive needs to define a controller method (think API) that the pane directive can access/call. </p>
<p>For a more in-depth explanation of the tabs and pane directives, and why the tabs directive creates a function on its controller using this (rather than on $scope), please see <a href="http://stackoverflow.com/questions/11605917/this-vs-scope-in-angularjs-controllers/14168699#14168699" target="_blank" rel="external">this vs $scope in AngularJS controllers.</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-27T00:30:39.000Z"><a href="/2014/07/26/Understanding-how-file-upload-works-using-Nodejs-and-Angularjs-(1)/">Jul 26 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/26/Understanding-how-file-upload-works-using-Nodejs-and-Angularjs-(1)/">File upload with node.js and angular</a></h1>
  

    </header>
    <div class="entry">
      
        <p><img src="http://oceanwavelabs.com/assets/plugins/parallax-slider/img/angular-and-html5.png" alt=""></p>
<h1 id="Understanding_how_file_upload_works_using_Node-js_and_Angular-js_(1)">Understanding how file upload works using Node.js and Angular.js (1)</h1>
<blockquote>
<p>In this blog I will mainly talk about how to upload files use Html and Node.js. First, I will talk about the enctype option and compare the difference between the different options. I will post a second blog mainly focus on angular.js.</p>
</blockquote>
<h2 id="Important_things_with_input_tag">Important things with input tag</h2>
<h3 id="1-Enctype_options">1.Enctype options</h3>
<p>Enctype have three options: application/x-www-form-urlencoded(defult), multipart/form-data, text/plain.</p>
<ul>
<li><p>application/x-www-form-urlencoded: Default. Input control names and values are URL encoded. The name is separated from the value by ‘=’ and name/value pairs are separated from each other by ‘&amp;’.<strong>(key-value pairs)</strong></p>
</li>
<li><p>multipart/form-data: Used for submitting forms that contain files, non-ASCII data, and binary data.<strong>(image/files)</strong>. </p>
<ul>
<li><a href="https://github.com/expressjs/multer" target="_blank" rel="external">Use multer in backend to get multipart/formdata. Usually image/files</a></li>
<li><a href="http://blog.csdn.net/xiaojianpitt/article/details/6856536" target="_blank" rel="external">Multipart/form-data POST文件上传详解</a></li>
<li><a href="http://blog.csdn.net/five3/article/details/7181521" target="_blank" rel="external">HTTP协议之multipart/form-data请求分析</a></li>
</ul>
</li>
<li><p>text/plain: Obsolete. No encoding, for browser compatibility only.<br><strong>Express use bodypaser which only accept three content types:<br>1.application/json<br>2.application/x-www-form-urlencoded<br>3.multipart/form-data</strong></p>
<ul>
<li><a href="http://stackoverflow.com/questions/17793344/empty-req-body-receiving-text-plain-post-request-to-node-js" target="_blank" rel="external">Empty req.body receiving text/plain POST request to node.js</a></li>
</ul>
</li>
</ul>
<h4 id="Example:">Example:</h4>
<p><strong>HTML:</strong></p>
<pre><code>&lt;form <span class="keyword">method</span>=<span class="string">"post"</span> action=<span class="string">"/api/upload"</span>&gt;
    input:&lt;input <span class="class"><span class="keyword">type</span>=</span><span class="string">"text"</span> name=<span class="string">"input"</span>/&gt;
    &lt;button <span class="class"><span class="keyword">type</span>=</span><span class="string">"submit"</span> <span class="keyword">class</span>=<span class="string">"btn"</span>&gt;upload&lt;/button&gt;
&lt;/form&gt;
</code></pre><p><strong>Node.js:</strong></p>
<pre><code><span class="pi">'use strict'</span>;

<span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'lodash'</span>);
    exports.index = <span class="function"><span class="keyword">function</span> <span class="params">(req, res)</span> {</span>
    console.log(req.get(<span class="string">'Content-Type'</span>));
    console.log(req.body);    
};
</code></pre><p>After we submmit the text we can get the input data from backend:</p>
<pre><code>GET /api/things <span class="number">304</span> <span class="number">5</span>ms
application/x<span class="attribute">-www</span><span class="attribute">-form</span><span class="attribute">-urlencoded</span>
{ input: <span class="string">'123'</span> }
</code></pre><p><strong>If we want to submit a form we must include name in input tag.</strong> All elements used to collect data in a form have a “name” attribute (name=””). That is the name of the variable that is assigned the value of the data collected by each input, select or textarea element.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
    <a href="/archives/" class="alignleft prev">Prev</a>
  
  
    <a href="/archives/page/3/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:kelunblog.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/Angularjs/">Angular.js</a><small>2</small></li>
  
    <li><a href="/categories/Hacking/">Hacking</a><small>2</small></li>
  
    <li><a href="/categories/LAMP/">LAMP</a><small>1</small></li>
  
    <li><a href="/categories/RESTful/">RESTful</a><small>1</small></li>
  
    <li><a href="/categories/basic/">basic</a><small>1</small></li>
  
    <li><a href="/categories/github/">github</a><small>1</small></li>
  
    <li><a href="/categories/javascript/">javascript</a><small>11</small></li>
  
    <li><a href="/categories/linux/">linux</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Kali/">Kali</a><small>1</small></li>
  
    <li><a href="/tags/Mysql/">Mysql</a><small>1</small></li>
  
    <li><a href="/tags/PHP/">PHP</a><small>1</small></li>
  
    <li><a href="/tags/angular/">angular</a><small>2</small></li>
  
    <li><a href="/tags/apache/">apache</a><small>1</small></li>
  
    <li><a href="/tags/api/">api</a><small>1</small></li>
  
    <li><a href="/tags/base64/">base64</a><small>1</small></li>
  
    <li><a href="/tags/directive/">directive</a><small>1</small></li>
  
    <li><a href="/tags/file-upload/">file upload</a><small>1</small></li>
  
    <li><a href="/tags/github/">github</a><small>1</small></li>
  
    <li><a href="/tags/global-variable/">global variable</a><small>1</small></li>
  
    <li><a href="/tags/javascript-function/">javascript function</a><small>1</small></li>
  
    <li><a href="/tags/javascript-style/">javascript style</a><small>1</small></li>
  
    <li><a href="/tags/kali/">kali</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>1</small></li>
  
    <li><a href="/tags/penetration-testing/">penetration testing</a><small>2</small></li>
  
    <li><a href="/tags/rest/">rest</a><small>1</small></li>
  
    <li><a href="/tags/sockets/">sockets</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Kelun Zhang
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53633801-1', 'auto');
  ga('send', 'pageview');

</script>


<script type="text/javascript">
var disqus_shortname = 'kelunblog';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>