<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archives: 2014/9 | Kelun | Blog</title>
  <meta name="author" content="Kelun Zhang">
  
  <meta name="description" content="This is my bolg, welcome">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Kelun | Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Kelun | Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-53633801-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Kelun | Blog</a></h1>
  <h2><a href="/">A code monkey with a simple dream</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/atom.xml">Rss</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2014/9</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-09-27T03:56:13.000Z"><a href="/2014/09/26/Intro-to-Nodejs/">Sep 26 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/09/26/Intro-to-Nodejs/">Intro to Node.js</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="1-_process">1. process</h2>
<p>The process object is a global object and can be accessed from anywhere.</p>
<ul>
<li><p><strong>process.argv</strong>: An array containing the command line arguments. The first element will be ‘node’, the second element will be the name of the JavaScript file. The next elements will be any additional command line arguments.`</p>
<pre><code>  <span class="comment">// print process.argv</span>
  process.argv.<span class="keyword">forEach</span>(<span class="function"><span class="keyword">function</span><span class="params">(val, index, array)</span> {</span>
    console.log(index + <span class="string">': '</span> + val);
  });
</code></pre><p>This will generate:</p>
<pre><code>  $ node <span class="built_in">process</span>-<span class="number">2.</span>js <span class="constant">one</span> <span class="constant">two</span>=<span class="constant">three</span> <span class="constant">four</span>
  <span class="number">0</span>: node
  <span class="number">1</span>: /Users/mjr/work/node/<span class="built_in">process</span>-<span class="number">2.</span>js
  <span class="number">2</span>: <span class="constant">one</span>
  <span class="number">3</span>: <span class="constant">two</span>=<span class="constant">three</span>
  <span class="number">4</span>: <span class="constant">four</span>
</code></pre></li>
</ul>
<h2 id="2-_I/O">2. I/O</h2>
<ul>
<li><p>Synchronous I/O opertion: To perform a filesystem operation we need to use fs module from the Node core library. To load this kind of module, or any other “global” module, use the following incantation:</p>
<pre><code>  <span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)
</code></pre><p>Now you have the full fs module available in a variable named fs.<br>All synchronous (or blocking) filesystem methods in the fs module end with ‘Sync’. To read a file, you’ll need to use </p>
<pre><code>  fs.readFileSync('/path/<span class="keyword">to</span>/<span class="keyword">file</span>') 
</code></pre><p>This method will return a Buffer object containing the complete contents of the file.<br>Buffer objects are Node’s way of efficiently representing arbitrary arrays of data, whether it be ascii, binary or some other format. Buffer objects can be converted to strings by simply calling the toString() method on them. e.g. </p>
<pre><code><span class="attribute">  var str </span>=<span class="string"> buf.toString().</span>
</code></pre><p>An example of basic sync I\O operation: read a file and count the lines:</p>
<pre><code>  <span class="reserved">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);

  <span class="reserved">var</span> buffer = fs.readFileSync(process.argv[<span class="number">2</span>]);
  <span class="reserved">var</span> str = buffer.toString();
  <span class="reserved">var</span> arr = str.split(<span class="string">'\n'</span>);

  <span class="built_in">console</span>.log(arr.length - <span class="number">1</span>);        
</code></pre></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-09-18T22:52:06.000Z"><a href="/2014/09/18/Javascript-tricks/">Sep 18 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/09/18/Javascript-tricks/">Javascript tricks</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="Some_basic_javascript_tricks">Some basic javascript tricks</h1>
<ol>
<li><p>Based on your brower you can use:          </p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	document.documentElement
</pre></td></tr></table></figure>

<p> or</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	document.body
</pre></td></tr></table></figure><br> to select the body or html element. You can also write code like this:<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	<span class="keyword">var</span> root = <span class="regexp">/firefox|tridenti.test(navigator.userAgent) ? document.documentElement : document.body</span>
</pre></td></tr></table></figure>
</li>
<li><p>Gets or sets the number of pixels that the content of an element is scrolled upward.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	root.scrollTop;
</pre></td></tr></table></figure>
</li>
<li><p>Get text rectangle object    </p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>	rectObject = object.getBoundingClientRect();
</pre></td></tr></table></figure>
</li>
<li><p>Get full height of the browser and get the height of the viewpoint.</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>	root.scrollHeight; <span class="comment">//full height of browser</span>
	window.innerHeight; <span class="comment">//The height of the view point</span>
</pre></td></tr></table></figure>    </li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-09-08T01:32:43.000Z"><a href="/2014/09/07/Some-basic-notes-about-php-&-mysql/">Sep 7 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/09/07/Some-basic-notes-about-php-&-mysql/">Some basic notes about php &amp; mysql</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="apache:">apache:</h1>
<pre><code><span class="built_in">sudo</span> apachectl start
<span class="built_in">sudo</span> apachectl stop
<span class="built_in">sudo</span> apachectl restart
</code></pre><h1 id="php:">php:</h1>
<ol>
<li><p>urlencode($varable) vs rawurlencode</p>
<ul>
<li>rawurlencode the path:<ul>
<li>Path is the part before the “?”</li>
<li>Spaces must be encoded as %20        </li>
</ul>
</li>
<li>url encode the query string<ul>
<li>Query string is the part after the “?”        + space are better encoded as “+”</li>
</ul>
</li>
</ul>
</li>
<li><p>htmlspecialchars(), htmlentities()</p>
<ul>
<li>Reserved words in html: “&lt;”, “&gt;”, “&amp;”, “</li>
<li>use htmlspecialchars() to render this reserved words.</li>
<li>render some special characters use htmlentities()</li>
</ul>
</li>
<li><p>include(), require()    [when error, halt the execution]</p>
</li>
<li><p>header($string) 必须写在html之前    </p>
<ul>
<li><p>header(“Location: login.php”); //used as redirect to new page.</p>
<figure class="highlight <?php"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>		header(<span class="string">"Location: basic.html"</span>);
		<span class="keyword">exit</span>; <span class="comment">//Prevent render html files</span>
	    <span class="preprocessor">?&gt;</span>
</pre></td></tr></table></figure>    

</li>
</ul>
</li>
</ol>
<h1 id="Mysql">Mysql</h1>
<ol>
<li><p>basic command:</p>
<ul>
<li><p>login:</p>
<pre><code>  mysql <span class="attribute">-u</span> root <span class="attribute">-p</span>
</code></pre></li>
<li><p>Show database:</p>
<pre><code>  <span class="operator"><span class="keyword">SHOW</span> DATABASES;</span>            
</code></pre></li>
<li><p>Creat database:</p>
<pre><code>  <span class="operator"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> &lt;name&gt;;</span>
</code></pre></li>
<li><p>Use database:</p>
<pre><code>  USE <span class="tag">&lt;<span class="title">name</span>&gt;</span>
</code></pre></li>
<li><p>Drop database:</p>
<pre><code>  <span class="operator"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> &lt;name&gt;    </span>
</code></pre></li>
<li><p>Creat new dabase user </p>
<pre><code>  <span class="operator"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> db_name.*
  <span class="keyword">TO</span> <span class="string">'username'</span>@<span class="string">'localhost'</span>
  IDENTIFIED <span class="keyword">BY</span> <span class="string">'password'</span>;</span>

  <span class="operator"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">'username'</span>@<span class="string">'localhost'</span>;</span>
</code></pre></li>
<li><p>TABLE:</p>
<ul>
<li>subject:<ul>
<li>id</li>
<li>menu_name</li>
<li>position</li>
<li>visible</li>
</ul>
</li>
</ul>
</li>
<li><p>SHOW tables:</p>
<pre><code>  <span class="operator"><span class="keyword">SHOW</span> TABLES;</span>
</code></pre></li>
<li><p>Show database schema:</p>
<pre><code>  <span class="operator"><span class="keyword">SHOW</span> COLUMNS <span class="keyword">FROM</span> &lt;<span class="keyword">table</span> name&gt;            </span>
</code></pre></li>
<li><p>Creat tables:</p>
<pre><code>  <span class="operator"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> subjects (   id <span class="keyword">INT</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,    menu_name <span class="keyword">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,   position <span class="keyword">INT</span>(<span class="number">3</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>, visible TINYINT(<span class="number">1</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,   <span class="keyword">PRIMARY</span> <span class="keyword">KEY</span>(id));</span>
</code></pre></li>
<li><p>Show columns:</p>
<p>  SHOW COLUMNS FROM table_name;</p>
</li>
<li><p>crud</p>
<ul>
<li><p>Creat: SQL INSERT</p>
<pre><code>  <span class="operator"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">table</span> (column1, column2, column3)
  <span class="keyword">VALUES</span> (val1, val2 ,val3);</span>
</code></pre></li>
<li><p>Read:SQL SELECT</p>
<pre><code>  <span class="operator"><span class="keyword">SELECT</span> *
  <span class="keyword">FROM</span> <span class="keyword">table</span>
  <span class="keyword">WHERE</span> column1 = <span class="string">'some text'</span>
  <span class="keyword">ORDER</span> <span class="keyword">BY</span> column1 <span class="keyword">ASC</span>;</span>
</code></pre></li>
<li><p>Update</p>
<pre><code>  <span class="operator"><span class="keyword">UPDATE</span> <span class="keyword">table</span>
  <span class="keyword">SET</span> column1 = <span class="string">'some_text'</span>
  <span class="keyword">WHERE</span> id = <span class="number">1</span>;</span>
</code></pre></li>
<li><p>Delete    </p>
<pre><code>  <span class="operator"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="keyword">table</span>
  <span class="keyword">WHERE</span> id = <span class="number">1</span>;</span>      
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="PHP_&amp;_Mysql">PHP &amp; Mysql</h1>
<ol>
<li><p>Creat database connection</p>
<pre><code> <span class="variable">$dbhost</span> = <span class="string">"127.0.0.1"</span>;
 <span class="variable">$dbuser</span> = <span class="string">"widght_cms"</span>;
 <span class="variable">$dbpass</span> = <span class="string">"chuangfu1314"</span>;
 <span class="variable">$dbname</span> = <span class="string">"widget_corp"</span>;
 <span class="variable">$connection</span> = mysqli_connect(<span class="variable">$dbhost</span>, <span class="variable">$dbuser</span>, <span class="variable">$dbpass</span>, <span class="variable">$dbname</span>);    
 <span class="keyword">if</span>(mysqli_connect_errno()) {
 <span class="keyword">die</span>(<span class="string">"Database connection faild: "</span> . 
     mysqli_connect_error() . 
     <span class="string">" ("</span> . mysqli_connect_errno() . <span class="string">")"</span>);
 }
</code></pre></li>
<li><p>database query</p>
<ul>
<li><p>Read data:</p>
<pre><code>  <span class="variable">$query</span> = <span class="string">"SELECT * FROM subjects"</span>;
  <span class="variable">$result</span> = mysqli_query(<span class="variable">$connection</span>, <span class="variable">$query</span>);
  <span class="keyword">if</span>(!<span class="variable">$result</span>) {
      <span class="keyword">die</span>(<span class="string">"database query failed."</span>);
  }
</code></pre></li>
<li><p>Creat data(return true or false):                                </p>
<pre><code>  <span class="variable">$query</span> = <span class="string">"INSERT INTO subjects ( mean_name, position, visible) VALUES ({<span class="variable">$menu_name</span>},{<span class="variable">$position</span>},{<span class="variable">$visible</span>})"</span>
  <span class="variable">$result</span> = mysqli_query(<span class="variable">$connection</span>, <span class="variable">$query</span>);
</code></pre></li>
</ul>
</li>
<li><p>Use returned data</p>
<pre><code> <span class="keyword">while</span>(<span class="variable">$row</span> = mysqli_fetch_assoc(<span class="variable">$result</span>)) {
     var_dump(<span class="variable">$row</span>);
     <span class="built_in">echo</span> <span class="string">"&lt;hr /&gt;"</span>;
 }
</code></pre></li>
<li><p>Release returned data</p>
<pre><code> mysqli_free_result(<span class="variable">$result</span>);
</code></pre></li>
<li><p>close database</p>
<pre><code> mysqli_close(<span class="variable">$connection</span>);        
</code></pre></li>
</ol>
<h1 id="Interview_questions">Interview questions</h1>
<ol>
<li><p>How the result set of Mysql be handled in PHP?</p>
<p> The result set can be handled using mysql_fetch_array, mysql_fetch_assoc, mysql_fetch_object or mysql_fetch_row.</p>
</li>
<li><p>How is it possible to know the number of rows returned in result set?</p>
<p> The function mysql_num_rows() returns the number of rows in a result set.</p>
</li>
<li><p>What is the difference between     mysql_fetch_object() and mysql_fetch_array()?</p>
<p> The mysql_fetch_object() function collects the first single matching record where mysql_fetch_array() collects all matching records from the table in an array.</p>
</li>
<li><p>How a constant is defined in a PHP script?</p>
<p> The define() directive lets us defining a constant as follows:</p>
<pre><code> <span class="class"><span class="keyword">define</span> </span>(“ACONSTANT”, <span class="number">123</span>);    
</code></pre></li>
<li><p>How can you pass a variable by reference?</p>
<p> To be able to pass a variable by reference, we use an ampersand in front of it, as follows $var1 = &amp;$var2    </p>
</li>
<li><p>Will a comparison of an integer 12 and a string “13″ work in PHP?</p>
<p> “13″ and 12 can be compared in PHP since it casts everything to the integer type.    </p>
</li>
<li><p>What does $GLOBALS means?</p>
<p> $GLOBALS is associative array including references to all variables which are currently defined in the global scope of the script.                    </p>
</li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:kelunblog.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/Angularjs/">Angular.js</a><small>2</small></li>
  
    <li><a href="/categories/Hacking/">Hacking</a><small>2</small></li>
  
    <li><a href="/categories/LAMP/">LAMP</a><small>1</small></li>
  
    <li><a href="/categories/RESTful/">RESTful</a><small>1</small></li>
  
    <li><a href="/categories/basic/">basic</a><small>1</small></li>
  
    <li><a href="/categories/github/">github</a><small>1</small></li>
  
    <li><a href="/categories/javascript/">javascript</a><small>11</small></li>
  
    <li><a href="/categories/linux/">linux</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Kali/">Kali</a><small>1</small></li>
  
    <li><a href="/tags/Mysql/">Mysql</a><small>1</small></li>
  
    <li><a href="/tags/PHP/">PHP</a><small>1</small></li>
  
    <li><a href="/tags/angular/">angular</a><small>2</small></li>
  
    <li><a href="/tags/apache/">apache</a><small>1</small></li>
  
    <li><a href="/tags/api/">api</a><small>1</small></li>
  
    <li><a href="/tags/base64/">base64</a><small>1</small></li>
  
    <li><a href="/tags/directive/">directive</a><small>1</small></li>
  
    <li><a href="/tags/file-upload/">file upload</a><small>1</small></li>
  
    <li><a href="/tags/github/">github</a><small>1</small></li>
  
    <li><a href="/tags/global-variable/">global variable</a><small>1</small></li>
  
    <li><a href="/tags/javascript-function/">javascript function</a><small>1</small></li>
  
    <li><a href="/tags/javascript-style/">javascript style</a><small>1</small></li>
  
    <li><a href="/tags/kali/">kali</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>1</small></li>
  
    <li><a href="/tags/penetration-testing/">penetration testing</a><small>2</small></li>
  
    <li><a href="/tags/rest/">rest</a><small>1</small></li>
  
    <li><a href="/tags/sockets/">sockets</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Kelun Zhang
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53633801-1', 'auto');
  ga('send', 'pageview');

</script>


<script type="text/javascript">
var disqus_shortname = 'kelunblog';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>