<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JavaScript Style Guide | Kelun | Blog</title>
  <meta name="author" content="Kelun Zhang">
  
  <meta name="description" content="This is my bolg, welcome">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="JavaScript Style Guide"/>
  <meta property="og:site_name" content="Kelun | Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Kelun | Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-53633801-1']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Kelun | Blog</a></h1>
  <h2><a href="/">A code monkey with a simple dream</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/atom.xml">Rss</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-10-23T08:15:32.000Z"><a href="/2014/10/23/JavaScript-Style-Guide/">Oct 23 2014</a></time>
      
      
  
    <h1 class="title">JavaScript Style Guide</h1>
  

    </header>
    <div class="entry">
      
        <h2 id="Objects">Objects</h2>
<ul>
<li><p>Use the literal syntax for object creation.</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> item = <span class="keyword">new</span> <span class="built_in">Object</span>();

<span class="comment">// good</span>
<span class="keyword">var</span> item = {};
</pre></td></tr></table></figure>
</li>
<li><p>Don’t use <a href="http://es5.github.io/#x7.6.1" target="_blank" rel="external">reserved words</a> as keys. It won’t work in IE8. <a href="https://github.com/airbnb/javascript/issues/61" target="_blank" rel="external">More info</a></p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> superman = {
  <span class="keyword">default</span>: { clark: <span class="string">'kent'</span> },
  private: <span class="literal">true</span>
};

<span class="comment">// good</span>
<span class="keyword">var</span> superman = {
  defaults: { clark: <span class="string">'kent'</span> },
  hidden: <span class="literal">true</span>
};
</pre></td></tr></table></figure>
</li>
<li><p>Use readable synonyms in place of reserved words.</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> superman = {
  <span class="keyword">class</span>: <span class="string">'alien'</span>
};

<span class="comment">// bad</span>
<span class="keyword">var</span> superman = {
  klass: <span class="string">'alien'</span>
};

<span class="comment">// good</span>
<span class="keyword">var</span> superman = {
  type: <span class="string">'alien'</span>
};
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Arrays">Arrays</h2>
<ul>
<li><p>Use the literal syntax for array creation</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> items = <span class="keyword">new</span> <span class="built_in">Array</span>();

<span class="comment">// good</span>
<span class="keyword">var</span> items = [];
</pre></td></tr></table></figure>
</li>
<li><p>If you don’t know array length use Array#push.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="keyword">var</span> someStack = [];


<span class="comment">// bad</span>
someStack[someStack.length] = <span class="string">'abracadabra'</span>;

<span class="comment">// good</span>
someStack.push(<span class="string">'abracadabra'</span>);
</pre></td></tr></table></figure>
</li>
<li><p>When you need to copy an array use Array#slice. <a href="http://jsperf.com/converting-arguments-to-an-array/7" target="_blank" rel="external">jsPerf</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="keyword">var</span> len = items.length,
    itemsCopy = [],
    i;

<span class="comment">// bad</span>
<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++) {
  itemsCopy[i] = items[i];
}

<span class="comment">// good</span>
itemsCopy = items.slice();
</pre></td></tr></table></figure>
</li>
<li><p>To convert an array-like object to an array, use Array#slice.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">trigger</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);
  ...
}
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Strings">Strings</h2>
<ul>
<li><p>Use single quotes <code>&#39;&#39;</code> for strings</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> name = <span class="string">"Bob Parr"</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> name = <span class="string">'Bob Parr'</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> fullName = <span class="string">"Bob "</span> + <span class="keyword">this</span>.lastName;

<span class="comment">// good</span>
<span class="keyword">var</span> fullName = <span class="string">'Bob '</span> + <span class="keyword">this</span>.lastName;
</pre></td></tr></table></figure>
</li>
<li><p>Strings longer than 80 characters should be written across multiple lines using string concatenation.</p>
</li>
<li><p>Note: If overused, long strings with concatenation could impact performance. <a href="http://jsperf.com/ya-string-concat" target="_blank" rel="external">jsPerf</a> &amp; <a href="https://github.com/airbnb/javascript/issues/40" target="_blank" rel="external">Discussion</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> errorMessage = <span class="string">'This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.'</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> errorMessage = <span class="string">'This is a super long error that was thrown because \
of Batman. When you stop to think about how Batman had anything to do \
with this, you would get nowhere \
fast.'</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> errorMessage = <span class="string">'This is a super long error that was thrown because '</span> +
  <span class="string">'of Batman. When you stop to think about how Batman had anything to do '</span> +
  <span class="string">'with this, you would get nowhere fast.'</span>;
</pre></td></tr></table></figure>
</li>
<li><p>When programmatically building up a string, use Array#join instead of string concatenation. Mostly for IE: <a href="http://jsperf.com/string-vs-array-concat/2" target="_blank" rel="external">jsPerf</a>. Document of join function: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join" target="_blank" rel="external">MDN</a>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="code"><pre><span class="keyword">var</span> items,
    messages,
    length,
    i;

messages = [{
  state: <span class="string">'success'</span>,
  message: <span class="string">'This one worked.'</span>
}, {
  state: <span class="string">'success'</span>,
  message: <span class="string">'This one worked as well.'</span>
}, {
  state: <span class="string">'error'</span>,
  message: <span class="string">'This one did not work.'</span>
}];

length = messages.length;

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">inbox</span><span class="params">(messages)</span> {</span>
  items = <span class="string">'&lt;ul&gt;'</span>;

  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++) {
    items += <span class="string">'&lt;li&gt;'</span> + messages[i].message + <span class="string">'&lt;/li&gt;'</span>;
  }

  <span class="keyword">return</span> items + <span class="string">'&lt;/ul&gt;'</span>;
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">inbox</span><span class="params">(messages)</span> {</span>
  items = [];

  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++) {
    items[i] = messages[i].message;
  }

  <span class="keyword">return</span> <span class="string">'&lt;ul&gt;&lt;li&gt;'</span> + items.join(<span class="string">'&lt;/li&gt;&lt;li&gt;'</span>) + <span class="string">'&lt;/li&gt;&lt;/ul&gt;'</span>;
}
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Variables">Variables</h2>
<ul>
<li><p>Use one <code>var</code> declaration for multiple variables and declare each variable on a newline.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> items = getItems();
<span class="keyword">var</span> goSportsTeam = <span class="literal">true</span>;
<span class="keyword">var</span> dragonball = <span class="string">'z'</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> items = getItems(),
    goSportsTeam = <span class="literal">true</span>,
    dragonball = <span class="string">'z'</span>;
</pre></td></tr></table></figure>
</li>
<li><p>Declare unassigned variables last. This is helpful when later on you might need to assign a variable depending on one of the previous assigned variables.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> i, len, dragonball,
    items = getItems(),
    goSportsTeam = <span class="literal">true</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> i, items = getItems(),
    dragonball,
    goSportsTeam = <span class="literal">true</span>,
    len;

<span class="comment">// good</span>
<span class="keyword">var</span> items = getItems(),
    goSportsTeam = <span class="literal">true</span>,
    dragonball,
    length,
    i;
</pre></td></tr></table></figure>
</li>
<li><p>Assign variables at the top of their scope. This helps avoid issues with variable declaration and assignment hoisting related issues.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  test();
  console.log(<span class="string">'doing stuff..'</span>);

  <span class="comment">//..other stuff..</span>

  <span class="keyword">var</span> name = getName();

  <span class="keyword">if</span> (name === <span class="string">'test'</span>) {
    <span class="keyword">return</span> <span class="literal">false</span>;
  }

  <span class="keyword">return</span> name;
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> name = getName();

  test();
  console.log(<span class="string">'doing stuff..'</span>);

  <span class="comment">//..other stuff..</span>

  <span class="keyword">if</span> (name === <span class="string">'test'</span>) {
    <span class="keyword">return</span> <span class="literal">false</span>;
  }

  <span class="keyword">return</span> name;
}

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> name = getName();

  <span class="keyword">if</span> (!<span class="built_in">arguments</span>.length) {
    <span class="keyword">return</span> <span class="literal">false</span>;
  }

  <span class="keyword">return</span> <span class="literal">true</span>;
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">if</span> (!<span class="built_in">arguments</span>.length) {
    <span class="keyword">return</span> <span class="literal">false</span>;
  }

  <span class="keyword">var</span> name = getName();

  <span class="keyword">return</span> <span class="literal">true</span>;
}
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Comments">Comments</h2>
<ul>
<li><p>Use <code>/** ... */</code> for multiline comments. Include a description, specify types and values for all parameters and return values.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="comment">// make() returns a new element</span>
<span class="comment">// based on the passed in tag name</span>
<span class="comment">//</span>
<span class="comment">// @param &lt;String&gt; tag</span>
<span class="comment">// @return &lt;Element&gt; element</span>
<span class="function"><span class="keyword">function</span> <span class="title">make</span><span class="params">(tag)</span> {</span>

  <span class="comment">// ...stuff...</span>

  <span class="keyword">return</span> element;
}

<span class="comment">// good</span>
<span class="comment">/**
 * make() returns a new element
 * based on the passed in tag name
 *
 * @param &lt;String&gt; tag
 * @return &lt;Element&gt; element
 */</span>
<span class="function"><span class="keyword">function</span> <span class="title">make</span><span class="params">(tag)</span> {</span>

  <span class="comment">// ...stuff...</span>

  <span class="keyword">return</span> element;
}
</pre></td></tr></table></figure>
</li>
<li><p>Use <code>//</code> for single line comments. Place single line comments on a newline above the subject of the comment. Put an empty line before the comment.</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> active = <span class="literal">true</span>;  <span class="comment">// is current tab</span>

<span class="comment">// good</span>
<span class="comment">// is current tab</span>
<span class="keyword">var</span> active = <span class="literal">true</span>;

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">getType</span><span class="params">()</span> {</span>
  console.log(<span class="string">'fetching type...'</span>);
  <span class="comment">// set the default type to 'no type'</span>
  <span class="keyword">var</span> type = <span class="keyword">this</span>._type || <span class="string">'no type'</span>;

  <span class="keyword">return</span> type;
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">getType</span><span class="params">()</span> {</span>
  console.log(<span class="string">'fetching type...'</span>);

  <span class="comment">// set the default type to 'no type'</span>
  <span class="keyword">var</span> type = <span class="keyword">this</span>._type || <span class="string">'no type'</span>;

  <span class="keyword">return</span> type;
}
</pre></td></tr></table></figure></p>
<h2 id="Whitespace">Whitespace</h2>
</li>
<li><p>Use indentation when making long method chains.</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="code"><pre><span class="comment">// bad</span>
$(<span class="string">'#items'</span>).find(<span class="string">'.selected'</span>).highlight().end().find(<span class="string">'.open'</span>).updateCount();

<span class="comment">// good</span>
$(<span class="string">'#items'</span>)
  .find(<span class="string">'.selected'</span>)
    .highlight()
    .end()
  .find(<span class="string">'.open'</span>)
    .updateCount();

<span class="comment">// bad</span>
<span class="keyword">var</span> leds = stage.selectAll(<span class="string">'.led'</span>).data(data).enter().append(<span class="string">'svg:svg'</span>).class(<span class="string">'led'</span>, <span class="literal">true</span>)
    .attr(<span class="string">'width'</span>,  (radius + margin) * <span class="number">2</span>).append(<span class="string">'svg:g'</span>)
    .attr(<span class="string">'transform'</span>, <span class="string">'translate('</span> + (radius + margin) + <span class="string">','</span> + (radius + margin) + <span class="string">')'</span>)
    .call(tron.led);

<span class="comment">// good</span>
<span class="keyword">var</span> leds = stage.selectAll(<span class="string">'.led'</span>)
    .data(data)
  .enter().append(<span class="string">'svg:svg'</span>)
    .class(<span class="string">'led'</span>, <span class="literal">true</span>)
    .attr(<span class="string">'width'</span>,  (radius + margin) * <span class="number">2</span>)
  .append(<span class="string">'svg:g'</span>)
    .attr(<span class="string">'transform'</span>, <span class="string">'translate('</span> + (radius + margin) + <span class="string">','</span> + (radius + margin) + <span class="string">')'</span>)
    .call(tron.led);
</pre></td></tr></table></figure></p>
<h2 id="Type_Casting_&amp;_Coercion">Type Casting &amp; Coercion</h2>
</li>
<li><p>Perform type coercion at the beginning of the statement.</p>
</li>
<li><p>Strings:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="comment">//  =&gt; this.reviewScore = 9;</span>

<span class="comment">// bad</span>
<span class="keyword">var</span> totalScore = <span class="keyword">this</span>.reviewScore + <span class="string">''</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> totalScore = <span class="string">''</span> + <span class="keyword">this</span>.reviewScore;

<span class="comment">// bad</span>
<span class="keyword">var</span> totalScore = <span class="string">''</span> + <span class="keyword">this</span>.reviewScore + <span class="string">' total score'</span>;

<span class="comment">// good</span>
<span class="keyword">var</span> totalScore = <span class="keyword">this</span>.reviewScore + <span class="string">' total score'</span>;
</pre></td></tr></table></figure>
</li>
<li><p>Use <code>parseInt</code> for Numbers and always with a radix for type casting.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="code"><pre><span class="keyword">var</span> inputValue = <span class="string">'4'</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> val = <span class="keyword">new</span> <span class="built_in">Number</span>(inputValue);

<span class="comment">// bad</span>
<span class="keyword">var</span> val = +inputValue;

<span class="comment">// bad</span>
<span class="keyword">var</span> val = inputValue &gt;&gt; <span class="number">0</span>;

<span class="comment">// bad</span>
<span class="keyword">var</span> val = <span class="built_in">parseInt</span>(inputValue);

<span class="comment">// good</span>
<span class="keyword">var</span> val = <span class="built_in">Number</span>(inputValue);

<span class="comment">// good</span>
<span class="keyword">var</span> val = <span class="built_in">parseInt</span>(inputValue, <span class="number">10</span>);
</pre></td></tr></table></figure>
</li>
<li><p>If for whatever reason you are doing something wild and <code>parseInt</code> is your bottleneck and need to use Bitshift for <a href="http://jsperf.com/coercion-vs-casting/3" target="_blank" rel="external">performance reasons</a>, leave a comment explaining why and what you’re doing.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="comment">// good</span>
<span class="comment">/**
 * parseInt was the reason my code was slow.
 * Bitshifting the String to coerce it to a
 * Number made it a lot faster.
 */</span>
<span class="keyword">var</span> val = inputValue &gt;&gt; <span class="number">0</span>;
</pre></td></tr></table></figure>
</li>
<li><p><strong>Note:</strong> Be careful when using bitshift operations. Numbers are represented as <a href="http://es5.github.io/#x4.3.19" target="_blank" rel="external">64-bit values</a>, but Bitshift operations always return a 32-bit integer (<a href="http://es5.github.io/#x11.7" target="_blank" rel="external">source</a>). Bitshift can lead to unexpected behavior for integer values larger than 32 bits. <a href="https://github.com/airbnb/javascript/issues/109" target="_blank" rel="external">Discussion</a>. Largest signed 32-bit Int is 2,147,483,647:</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="number">2147483647</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; 2147483647</span>
<span class="number">2147483648</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; -2147483648</span>
<span class="number">2147483649</span> &gt;&gt; <span class="number">0</span> <span class="comment">//=&gt; -2147483647</span>
</pre></td></tr></table></figure></p>
<h2 id="Naming_Conventions">Naming Conventions</h2>
</li>
<li><p>Avoid single letter names. Be descriptive with your naming.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">q</span><span class="params">()</span> {</span>
  <span class="comment">// ...stuff...</span>
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">query</span><span class="params">()</span> {</span>
  <span class="comment">// ..stuff..</span>
}
</pre></td></tr></table></figure>
</li>
<li><p>Use camelCase when naming objects, functions, and instances</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> OBJEcttsssss = {};
<span class="keyword">var</span> this_is_my_object = {};
<span class="function"><span class="keyword">function</span> <span class="title">c</span><span class="params">()</span> {</span>}
<span class="keyword">var</span> u = <span class="keyword">new</span> user({
  name: <span class="string">'Bob Parr'</span>
});

<span class="comment">// good</span>
<span class="keyword">var</span> thisIsMyObject = {};
<span class="function"><span class="keyword">function</span> <span class="title">thisIsMyFunction</span><span class="params">()</span> {</span>}
<span class="keyword">var</span> user = <span class="keyword">new</span> User({
  name: <span class="string">'Bob Parr'</span>
});
</pre></td></tr></table></figure>
</li>
<li><p>Use PascalCase when naming constructors or classes</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">user</span><span class="params">(options)</span> {</span>
  <span class="keyword">this</span>.name = options.name;
}

<span class="keyword">var</span> bad = <span class="keyword">new</span> user({
  name: <span class="string">'nope'</span>
});

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">User</span><span class="params">(options)</span> {</span>
  <span class="keyword">this</span>.name = options.name;
}

<span class="keyword">var</span> good = <span class="keyword">new</span> User({
  name: <span class="string">'yup'</span>
});
</pre></td></tr></table></figure>
</li>
<li><p>Use a leading underscore <code>_</code> when naming private properties</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">this</span>.__firstName__ = <span class="string">'Panda'</span>;
<span class="keyword">this</span>.firstName_ = <span class="string">'Panda'</span>;

<span class="comment">// good</span>
<span class="keyword">this</span>._firstName = <span class="string">'Panda'</span>;
</pre></td></tr></table></figure>
</li>
<li><p>When saving a reference to <code>this</code> use <code>_this</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> self = <span class="keyword">this</span>;
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    console.log(self);
  };
}

<span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> that = <span class="keyword">this</span>;
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    console.log(that);
  };
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> _this = <span class="keyword">this</span>;
  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    console.log(_this);
  };
}
</pre></td></tr></table></figure>
</li>
<li><p>Name your functions. This is helpful for stack traces.</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> log = <span class="function"><span class="keyword">function</span><span class="params">(msg)</span> {</span>
  console.log(msg);
};

<span class="comment">// good</span>
<span class="keyword">var</span> log = <span class="function"><span class="keyword">function</span> <span class="title">log</span><span class="params">(msg)</span> {</span>
  console.log(msg);
};
</pre></td></tr></table></figure></p>
<h2 id="Constructors">Constructors</h2>
</li>
<li><p>Assign methods to the prototype object, instead of overwriting the prototype with a new object. Overwriting the prototype makes inheritance impossible: by resetting the prototype you’ll overwrite the base!</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">Jedi</span><span class="params">()</span> {</span>
  console.log(<span class="string">'new jedi'</span>);
}

<span class="comment">// bad</span>
Jedi.prototype = {
  fight: <span class="function"><span class="keyword">function</span> <span class="title">fight</span><span class="params">()</span> {</span>
    console.log(<span class="string">'fighting'</span>);
  },

  block: <span class="function"><span class="keyword">function</span> <span class="title">block</span><span class="params">()</span> {</span>
    console.log(<span class="string">'blocking'</span>);
  }
};

<span class="comment">// good</span>
Jedi.prototype.fight = <span class="function"><span class="keyword">function</span> <span class="title">fight</span><span class="params">()</span> {</span>
  console.log(<span class="string">'fighting'</span>);
};

Jedi.prototype.block = <span class="function"><span class="keyword">function</span> <span class="title">block</span><span class="params">()</span> {</span>
  console.log(<span class="string">'blocking'</span>);
};
</pre></td></tr></table></figure>
</li>
<li><p>Methods can return <code>this</code> to help with method chaining.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="code"><pre><span class="comment">// bad</span>
Jedi.prototype.jump = <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">this</span>.jumping = <span class="literal">true</span>;
  <span class="keyword">return</span> <span class="literal">true</span>;
};

Jedi.prototype.setHeight = <span class="function"><span class="keyword">function</span><span class="params">(height)</span> {</span>
  <span class="keyword">this</span>.height = height;
};

<span class="keyword">var</span> luke = <span class="keyword">new</span> Jedi();
luke.jump(); <span class="comment">// =&gt; true</span>
luke.setHeight(<span class="number">20</span>) <span class="comment">// =&gt; undefined</span>

<span class="comment">// good</span>
Jedi.prototype.jump = <span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
  <span class="keyword">this</span>.jumping = <span class="literal">true</span>;
  <span class="keyword">return</span> <span class="keyword">this</span>;
};

Jedi.prototype.setHeight = <span class="function"><span class="keyword">function</span><span class="params">(height)</span> {</span>
  <span class="keyword">this</span>.height = height;
  <span class="keyword">return</span> <span class="keyword">this</span>;
};

<span class="keyword">var</span> luke = <span class="keyword">new</span> Jedi();

luke.jump()
  .setHeight(<span class="number">20</span>);
</pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>It’s okay to write a custom toString() method, just make sure it works successfully and causes no side effects.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">Jedi</span><span class="params">(options)</span> {</span>
  options || (options = {});
  <span class="keyword">this</span>.name = options.name || <span class="string">'no name'</span>;
}

Jedi.prototype.getName = <span class="function"><span class="keyword">function</span> <span class="title">getName</span><span class="params">()</span> {</span>
  <span class="keyword">return</span> <span class="keyword">this</span>.name;
};

Jedi.prototype.toString = <span class="function"><span class="keyword">function</span> <span class="title">toString</span><span class="params">()</span> {</span>
  <span class="keyword">return</span> <span class="string">'Jedi - '</span> + <span class="keyword">this</span>.getName();
};
</pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Events">Events</h2>
<ul>
<li><p>When attaching data payloads to events (whether DOM events or something more proprietary like Backbone events), pass a hash instead of a raw value. This allows a subsequent contributor to add more data to the event payload without finding and updating every handler for the event. For example, instead of:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="comment">// bad</span>
$(<span class="keyword">this</span>).trigger(<span class="string">'listingUpdated'</span>, listing.id);

...

$(<span class="keyword">this</span>).on(<span class="string">'listingUpdated'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e, listingId)</span> {</span>
  <span class="comment">// do something with listingId</span>
});
</pre></td></tr></table></figure>

<p>prefer:</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="comment">// good</span>
$(<span class="keyword">this</span>).trigger(<span class="string">'listingUpdated'</span>, { listingId : listing.id });

...

$(<span class="keyword">this</span>).on(<span class="string">'listingUpdated'</span>, <span class="function"><span class="keyword">function</span><span class="params">(e, data)</span> {</span>
  <span class="comment">// do something with data.listingId</span>
});
</pre></td></tr></table></figure></p>
<h2 id="jQuery">jQuery</h2>
</li>
<li><p>Prefix jQuery object variables with a <code>$</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="keyword">var</span> sidebar = $(<span class="string">'.sidebar'</span>);

<span class="comment">// good</span>
<span class="keyword">var</span> $sidebar = $(<span class="string">'.sidebar'</span>);
</pre></td></tr></table></figure>
</li>
<li><p>Cache jQuery lookups.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="code"><pre><span class="comment">// bad</span>
<span class="function"><span class="keyword">function</span> <span class="title">setSidebar</span><span class="params">()</span> {</span>
  $(<span class="string">'.sidebar'</span>).hide();

  <span class="comment">// ...stuff...</span>

  $(<span class="string">'.sidebar'</span>).css({
    <span class="string">'background-color'</span>: <span class="string">'pink'</span>
  });
}

<span class="comment">// good</span>
<span class="function"><span class="keyword">function</span> <span class="title">setSidebar</span><span class="params">()</span> {</span>
  <span class="keyword">var</span> $sidebar = $(<span class="string">'.sidebar'</span>);
  $sidebar.hide();

  <span class="comment">// ...stuff...</span>

  $sidebar.css({
    <span class="string">'background-color'</span>: <span class="string">'pink'</span>
  });
}
</pre></td></tr></table></figure>
</li>
<li><p>For DOM queries use Cascading <code>$(&#39;.sidebar ul&#39;)</code> or parent &gt; child <code>$(&#39;.sidebar &gt; ul&#39;)</code>. <a href="http://jsperf.com/jquery-find-vs-context-sel/16" target="_blank" rel="external">jsPerf</a></p>
</li>
<li><p>Use <code>find</code> with scoped jQuery object queries.</p>
<p>```javascript<br>// bad<br>$(‘ul’, ‘.sidebar’).hide();</p>
<p>// bad<br>$(‘.sidebar’).find(‘ul’).hide();</p>
<p>// good<br>$(‘.sidebar ul’).hide();</p>
<p>// good<br>$(‘.sidebar &gt; ul’).hide();</p>
<p>// good<br>$sidebar.find(‘ul’).hide();</p>
</li>
</ul>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/javascript/">javascript</a>
  </div>

        
  
  <div class="tags">
    <a href="/tags/javascript-style/">javascript style</a>
  </div>

        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'kelunblog'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
</section>

</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:kelunblog.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/Angularjs/">Angular.js</a><small>2</small></li>
  
    <li><a href="/categories/Hacking/">Hacking</a><small>2</small></li>
  
    <li><a href="/categories/LAMP/">LAMP</a><small>1</small></li>
  
    <li><a href="/categories/RESTful/">RESTful</a><small>1</small></li>
  
    <li><a href="/categories/basic/">basic</a><small>1</small></li>
  
    <li><a href="/categories/github/">github</a><small>1</small></li>
  
    <li><a href="/categories/javascript/">javascript</a><small>11</small></li>
  
    <li><a href="/categories/linux/">linux</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Kali/">Kali</a><small>1</small></li>
  
    <li><a href="/tags/Mysql/">Mysql</a><small>1</small></li>
  
    <li><a href="/tags/PHP/">PHP</a><small>1</small></li>
  
    <li><a href="/tags/angular/">angular</a><small>2</small></li>
  
    <li><a href="/tags/apache/">apache</a><small>1</small></li>
  
    <li><a href="/tags/api/">api</a><small>1</small></li>
  
    <li><a href="/tags/base64/">base64</a><small>1</small></li>
  
    <li><a href="/tags/directive/">directive</a><small>1</small></li>
  
    <li><a href="/tags/file-upload/">file upload</a><small>1</small></li>
  
    <li><a href="/tags/github/">github</a><small>1</small></li>
  
    <li><a href="/tags/global-variable/">global variable</a><small>1</small></li>
  
    <li><a href="/tags/javascript-function/">javascript function</a><small>1</small></li>
  
    <li><a href="/tags/javascript-style/">javascript style</a><small>1</small></li>
  
    <li><a href="/tags/kali/">kali</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>1</small></li>
  
    <li><a href="/tags/penetration-testing/">penetration testing</a><small>2</small></li>
  
    <li><a href="/tags/rest/">rest</a><small>1</small></li>
  
    <li><a href="/tags/sockets/">sockets</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 Kelun Zhang
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-53633801-1', 'auto');
  ga('send', 'pageview');

</script>


<script type="text/javascript">
var disqus_shortname = 'kelunblog';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>